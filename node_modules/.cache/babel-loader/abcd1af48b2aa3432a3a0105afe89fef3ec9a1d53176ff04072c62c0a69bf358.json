{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar uuid = require('uuid');\nvar styled = require('styled-components');\nvar styled__default = _interopDefault(styled);\nvar lodash = require('lodash');\nvar Tippy = _interopDefault(require('@tippy.js/react'));\nrequire('tippy.js/dist/tippy.css');\nrequire('tippy.js/animations/shift-away.css');\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  strings.raw = raw;\n  return strings;\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'SELECT_REQUIRED_SKILL':\n      return _extends({}, state, {\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional,\n          required: state.selectedSkillCount.required + 1\n        }\n      });\n    case 'DESELECT_REQUIRED_SKILL':\n      return _extends({}, state, {\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional,\n          required: state.selectedSkillCount.required - 1\n        }\n      });\n    case 'SELECT_OPTIONAL_SKILL':\n      return _extends({}, state, {\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional + 1,\n          required: state.selectedSkillCount.required\n        }\n      });\n    case 'DESELECT_OPTIONAL_SKILL':\n      return _extends({}, state, {\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional - 1,\n          required: state.selectedSkillCount.required\n        }\n      });\n    case 'RESET_SKILLS':\n      return initialState;\n    default:\n      return state;\n  }\n}\nvar AppContext = /*#__PURE__*/\nReact.createContext({\n  skillCount: {\n    required: 0,\n    optional: 0\n  },\n  addToSkillCount: function addToSkillCount() {\n    return undefined;\n  },\n  selectedSkillCount: {\n    required: 0,\n    optional: 0\n  },\n  dispatch: function dispatch() {\n    return '';\n  },\n  resetId: '',\n  resetSkills: function resetSkills() {\n    return undefined;\n  }\n});\nvar initialState = {\n  selectedSkillCount: {\n    required: 0,\n    optional: 0\n  }\n};\nfunction AppProvider(_ref) {\n  var children = _ref.children;\n  var _React$useState = React.useState(''),\n    resetId = _React$useState[0],\n    setResetId = _React$useState[1];\n  var _React$useState2 = React.useState({\n      required: 0,\n      optional: 0\n    }),\n    skillCount = _React$useState2[0],\n    setSkillCount = _React$useState2[1];\n  var _React$useReducer = React.useReducer(reducer, initialState),\n    state = _React$useReducer[0],\n    dispatch = _React$useReducer[1];\n  function addToSkillCount(skillCount) {\n    return setSkillCount(function (prev) {\n      return {\n        required: prev.required + skillCount.required,\n        optional: prev.optional + skillCount.optional\n      };\n    });\n  }\n  function resetSkills() {\n    var action = {\n      type: 'RESET_SKILLS'\n    };\n    dispatch(action);\n    setResetId(uuid.v4());\n    return;\n  }\n  return React.createElement(AppContext.Provider, {\n    value: {\n      skillCount: skillCount,\n      dispatch: dispatch,\n      addToSkillCount: addToSkillCount,\n      selectedSkillCount: state.selectedSkillCount,\n      resetId: resetId,\n      resetSkills: resetSkills\n    }\n  }, children);\n}\nvar defaultTheme = {\n  backgroundColor: 'transparent',\n  border: '2px solid white',\n  borderRadius: '4px',\n  primaryFont: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif\",\n  primaryFontColor: 'white',\n  treeBackgroundColor: '#282c34',\n  disabledTreeOpacity: 0.8,\n  headingFont: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif\",\n  headingFontColor: 'white',\n  headingFontSize: '24px',\n  headingHoverColor: '#35373b',\n  headingHoverColorTransition: 'background 0.3s ease-out',\n  tooltipBackgroundColor: 'white',\n  tooltipFontColor: '#16181c',\n  tooltipZIndex: 99999,\n  nodeBackgroundColor: '#282c34',\n  nodeBorderColor: 'white',\n  nodeAlternativeFontColor: 'white',\n  nodeAltenativeActiveFontColor: 'white',\n  nodeOverlayColor: 'white',\n  nodeAlternativeActiveBackgroundColor: \"\\n  linear-gradient(\\n    to right,\\n    #b9e562 0%,\\n    #41e2bd 50%,\\n    #c284d8 100%\\n  )\",\n  nodeActiveBackgroundColor: \"linear-gradient(\\n      to right,\\n      #b9e562 0%,\\n      #41e2bd 50%,\\n      #c284d8 100%\\n    )\",\n  nodeHoverBorder: '4px solid',\n  nodeHoverBorderColor: \"linear-gradient(\\n      to right,\\n      #b9e562 0%,\\n      #41e2bd 50%,\\n      #c284d8 100%\\n    )\",\n  nodeIconWidth: '64px',\n  nodeMobileTextNodeHeight: '32px',\n  nodeMobileTextNodeWidth: '108px',\n  nodeMobileFontSize: '14px',\n  nodeDesktopTextNodeHeight: '28px',\n  nodeDesktopTextNodeWidth: '144px',\n  nodeDesktopFontSize: '16px',\n  edgeBorder: '1px solid white'\n};\nvar FilterContext = /*#__PURE__*/\nReact.createContext({\n  filtersMatches: null,\n  handleFilter: function handleFilter() {\n    return null;\n  },\n  addToSkillMap: function addToSkillMap() {\n    return null;\n  }\n});\nfunction FilterProvider(props) {\n  var _React$useState = React.useState({}),\n    skillMap = _React$useState[0],\n    setSkillMap = _React$useState[1];\n  var _React$useState2 = React.useState(null),\n    filtersMatches = _React$useState2[0],\n    setMatches = _React$useState2[1]; // keep the map, also keep track of the sorted keys. (if performance becomes a concern).\n\n  function handleFilter(query) {\n    if (query.trim() === '') {\n      return setMatches(null);\n    }\n    var sanitizedQuery = query.toLowerCase();\n    var skills = Object.keys(skillMap);\n    var filteredSkills = skills.filter(function (key) {\n      return key.includes(sanitizedQuery);\n    });\n    var treeIds = new Set(filteredSkills.map(function (skill) {\n      return skillMap[skill];\n    }));\n    return setMatches(treeIds);\n  }\n  function addToSkillMap(skillMap) {\n    return setSkillMap(function (prev) {\n      return _extends({}, prev, {}, skillMap);\n    });\n  }\n  return React.createElement(FilterContext.Provider, {\n    value: {\n      filtersMatches: filtersMatches,\n      handleFilter: handleFilter,\n      addToSkillMap: addToSkillMap\n    }\n  }, props.children);\n}\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  font-family: \", \";\\n  color: \", \";\\n  -moz-osx-font-smoothing: grayscale;\\n  -webkit-font-smoothing: antialiased;\\n  justify-content: center;\\n  margin: 0 0 48px;\\n  min-width: fit-content;\\n\"]);\n  _templateObject = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar defaultProps = {\n  theme: defaultTheme\n};\nfunction SkillTreeGroup(_ref) {\n  var theme = _ref.theme,\n    children = _ref.children;\n  var _React$useContext = React.useContext(AppContext),\n    skillCount = _React$useContext.skillCount,\n    selectedSkillCount = _React$useContext.selectedSkillCount,\n    resetSkills = _React$useContext.resetSkills;\n  var _React$useContext2 = React.useContext(FilterContext),\n    handleFilter = _React$useContext2.handleFilter;\n  var skillTreeTheme = React.useMemo(function () {\n    return _extends({}, defaultTheme, {}, theme);\n  }, [theme]);\n  var treeData = {\n    skillCount: skillCount,\n    selectedSkillCount: selectedSkillCount,\n    resetSkills: resetSkills,\n    handleFilter: handleFilter\n  };\n  return React.createElement(styled.ThemeProvider, {\n    theme: skillTreeTheme\n  }, React.createElement(StyleSkillTreeGroup, null, children(treeData)));\n}\nSkillTreeGroup.defaultProps = defaultProps;\nvar StyleSkillTreeGroup = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject(), function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.primaryFont;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.primaryFontColor;\n});\nvar LOCKED_STATE = 'locked';\nvar UNLOCKED_STATE = 'unlocked';\nvar SELECTED_STATE = 'selected';\nconst img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='iso-8859-1'%3f%3e%3c!-- Generator: Adobe Illustrator 19.0.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Capa_1' fill='white' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 47.971 47.971' style='enable-background:new 0 0 47.971 47.971%3b' xml:space='preserve'%3e%3cg%3e %3cpath d='M28.228%2c23.986L47.092%2c5.122c1.172-1.171%2c1.172-3.071%2c0-4.242c-1.172-1.172-3.07-1.172-4.242%2c0L23.986%2c19.744L5.121%2c0.88 c-1.172-1.172-3.07-1.172-4.242%2c0c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242l18.865%2c18.864L0.879%2c42.85c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242 C1.465%2c47.677%2c2.233%2c47.97%2c3%2c47.97s1.535-0.293%2c2.121-0.879l18.865-18.864L42.85%2c47.091c0.586%2c0.586%2c1.354%2c0.879%2c2.121%2c0.879 s1.535-0.293%2c2.121-0.879c1.172-1.171%2c1.172-3.071%2c0-4.242L28.228%2c23.986z'/%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e\";\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin: 8px 0;\\n\"]);\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin: 8px 0;\\n\"]);\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar TooltipContent = /*#__PURE__*/\nReact.memo(function (_ref) {\n  var content = _ref.content,\n    title = _ref.title,\n    handleClose = _ref.handleClose;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    }\n  }, React.createElement(Title, null, title), React.createElement(\"img\", {\n    onClick: handleClose,\n    style: {\n      width: '16px',\n      margin: '21px 4px auto 0',\n      cursor: 'pointer'\n    },\n    src: img,\n    alt: \"icon\"\n  })), React.createElement(ContentContainer, null, content));\n});\nvar Title = /*#__PURE__*/\nstyled__default.h1( /*#__PURE__*/\n_templateObject$1());\nvar ContentContainer = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject2());\nvar useMobile = function useMobile() {\n  var _useState = React.useState(Infinity),\n    width = _useState[0],\n    setWidth = _useState[1];\n  React.useEffect(function () {\n    function handler() {\n      setWidth(window.innerWidth);\n    }\n    setWidth(window.innerWidth);\n    var throttledHandler = lodash.throttle(handler, 500);\n    window.addEventListener('resize', throttledHandler);\n    return function () {\n      window.removeEventListener('resize', throttledHandler);\n    };\n  }, []);\n  return width < 1200;\n};\nfunction _templateObject$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  border: \", \";\\n  border-image-source: \", \";\\n  border-image-slice: 1;\\n  border-radius: \", \";\\n  padding: 0 8px;\\n  text-align: left;\\n  width: 320px;\\n\\n  .tippy-backdrop {\\n    background-color: \", \";\\n  }\\n\"]);\n  _templateObject$2 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nfunction Tooltip(props) {\n  var children = props.children,\n    tooltip = props.tooltip,\n    title = props.title;\n  var _tooltip$direction = tooltip.direction,\n    direction = _tooltip$direction === void 0 ? 'top' : _tooltip$direction,\n    content = tooltip.content;\n  var _useContext = React.useContext(styled.ThemeContext),\n    tooltipZIndex = _useContext.tooltipZIndex;\n  var tooltipRef = React.useRef(null);\n  var isMobile = useMobile();\n  var placement = React__default.useMemo(function () {\n    return isMobile ? 'top' : direction;\n  }, [isMobile, direction]);\n  function hideTooltip() {\n    if (!tooltipRef.current) return;\n    return tooltipRef.current.hide();\n  }\n  var memoizedContent = React__default.useMemo(function () {\n    return React__default.createElement(TooltipContent, {\n      handleClose: hideTooltip,\n      content: content,\n      title: title\n    });\n  }, [content, title]);\n  return React__default.createElement(StyledTippy, {\n    interactive: true,\n    placement: placement,\n    onCreate: function onCreate(tooltip) {\n      tooltipRef.current = tooltip;\n    },\n    hideOnClick: false,\n    animation: \"shift-away\",\n    arrow: false,\n    appendTo: document.body,\n    touch: \"hold\",\n    zIndex: tooltipZIndex,\n    content: memoizedContent\n  }, children);\n}\nvar StyledTippy = /*#__PURE__*/\nstyled__default(Tippy)( /*#__PURE__*/\n_templateObject$2(), function (_ref) {\n  var theme = _ref.theme;\n  return theme.treeBackgroundColor;\n}, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.border;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.nodeHoverBorderColor;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.borderRadius;\n}, function (_ref5) {\n  var theme = _ref5.theme;\n  return theme.treeBackgroundColor;\n});\nfunction _templateObject2$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  pointer-events: none;\\n  height: 75%;\\n  margin: auto;\\n  width: 75%;\\n\"]);\n  _templateObject2$1 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n\"]);\n  _templateObject$3 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar Icon = /*#__PURE__*/\nReact__default.memo(function (_ref) {\n  var src = _ref.src,\n    title = _ref.title,\n    containerWidth = _ref.containerWidth;\n  return React__default.createElement(StyledIcon, {\n    \"data-testid\": \"icon-container\",\n    containerWidth: containerWidth\n  }, React__default.createElement(Image, {\n    src: src,\n    alt: title\n  }));\n});\nvar StyledIcon = /*#__PURE__*/\nstyled__default.div.attrs(function (props) {\n  return {\n    style: {\n      height: props.containerWidth + \"px\",\n      width: props.containerWidth + \"px\"\n    }\n  };\n})( /*#__PURE__*/\n_templateObject$3());\nvar Image = /*#__PURE__*/\nstyled__default.img( /*#__PURE__*/\n_templateObject2$1());\n\n// Since this function reads from the navigator, ensure that all invocation\n// take place inside of `useEffect`. This is to ensure that compatibility with gatsby,\n// or any application rendered server side, is not broken. This is because globals like\n// navigator and window aren't available on the server side, so these functions will need\n// to be invoked at runtime.\nfunction isIOSDevice() {\n  var iDevices = ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'];\n  if (!!navigator.platform) {\n    while (iDevices.length) {\n      if (navigator.platform === iDevices.pop()) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      color: \", \";\\n    \"]);\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  color: \", \";\\n\\n  \", \";\\n\"]);\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  font-size: \", \";\\n  text-overflow: ellipsis;\\n  margin: 0;\\n  overflow: hidden;\\n  padding: 0 8px;\\n  white-space: nowrap;\\n\\n  @media (min-width: 900px) {\\n    font-size: \", \";\\n  }\\n\"]);\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  align-items: center;\\n  display: flex;\\n  font-weight: 600;\\n  justify-content: center;\\n  height: \", \";\\n  width: \", \";\\n\\n  @media (min-width: 900px) {\\n    height: \", \";\\n    width: \", \";\\n  }\\n\"]);\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  width: \", \";\\n\"]);\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteralLoose([\"\\n        background: \", \";\\n      \"]);\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      animation: \", \" 1s infinite alternate;\\n      box-shadow: 0 0 6px 0 rgba(255, 255, 255, 0.5);\\n\\n      &:after,\\n      &:before {\\n        border: 0 solid;\\n        border-image-source: \", \";\\n        border-image-slice: 1;\\n        content: ' ';\\n        opacity: 0;\\n        height: 0;\\n        transition: opacity 0.6s, width 0.6s, height 0.6s;\\n        position: absolute;\\n        width: 0;\\n      }\\n\\n      &:after {\\n        border-top: \", \";\\n        border-left: \", \";\\n        top: 0;\\n        left: 0;\\n      }\\n\\n      &:before {\\n        bottom: 0px;\\n        right: 0px;\\n        border-bottom: \", \";\\n        border-right: \", \";\\n      }\\n\\n      &:hover,\\n      &:focus {\\n        animation: none;\\n        box-shadow: 0 0 12px 0 rgba(255, 255, 255, 1);\\n\\n        &:after,\\n        &:before {\\n          opacity: 1;\\n          height: 85%;\\n          transition: width 0.6s, height 0.6s;\\n          width: \", \";\\n        }\\n      }\\n    \"]);\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      animation: \", \" 1s 1;\\n      background: \", \";\\n    \"]);\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background: \", \";\\n  border: 2px solid;\\n  border-color: \", \";\\n  box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\\n  border-radius: \", \";\\n  cursor: pointer;\\n  display: flex;\\n  margin: 0 3px;\\n  outline: none;\\n  position: relative;\\n  transition: box-shadow 0.6s, opacity 1s;\\n  user-select: none;\\n\\n  @media (min-width: 410px) {\\n    margin: 0 8px;\\n  }\\n\\n  @media (min-width: 900px) {\\n    margin: 0 16px;\\n    outline: initial;\\n    outline-color: white;\\n  }\\n\\n  \", \"\\n\\n  \", \"\\n\\n    \", \"\\n\\n  \", \"\\n\"]);\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from,\\n  20% {\\n    box-shadow: 0 0 8px 0 rgba(255, 255, 255, 0.5);\\n  }\\n\\n  to {\\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0.5);\\n  }\\n\"]);\n  _templateObject2$2 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from {\\n    box-shadow: 0 0 18px 0 rgba(255, 255, 255, 1);\\n  }\\n\\n  20% {\\n    box-shadow: 0 0 24px 0 rgba(255, 255, 255, 1);\\n  }\\n\\n  to {\\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\\n  }\\n\"]);\n  _templateObject$4 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar keyframes = /*#__PURE__*/\nrequire('styled-components').keyframes;\nvar css = /*#__PURE__*/\nrequire('styled-components').css;\nvar Node = /*#__PURE__*/\nReact.forwardRef(function Node(props, ref) {\n  var handleClick = props.handleClick,\n    id = props.id,\n    currentState = props.currentState,\n    skill = props.skill;\n  var _skill$color = skill.color,\n    color = _skill$color === void 0 ? 'default' : _skill$color;\n  var _React$useState = React.useState(false),\n    isIOS = _React$useState[0],\n    setIsIOS = _React$useState[1];\n  var memoizedHandleKeyDown = React.useCallback(function handleKeyDown(e) {\n    if (e.keyCode === 13) {\n      handleClick();\n    }\n  }, [handleClick]);\n  React.useEffect(function () {\n    setIsIOS(isIOSDevice());\n  }, []);\n  return React.createElement(StyledNode, {\n    onClick: handleClick,\n    onKeyDown: memoizedHandleKeyDown,\n    ref: ref,\n    tabIndex: 0,\n    \"data-testid\": id,\n    optional: skill.optional || false,\n    isIOS: isIOS,\n    selected: currentState === SELECTED_STATE,\n    unlocked: currentState === UNLOCKED_STATE,\n    locked: currentState === LOCKED_STATE,\n    color: color\n  }, 'icon' in skill ? React.createElement(IconNode, null, React.createElement(Icon, {\n    title: \"node-icon\",\n    src: skill.icon,\n    containerWidth: 64\n  })) : React.createElement(TextNode, null, color === 'default' ? React.createElement(Text, null, skill.title) : React.createElement(AlternativeText, {\n    selected: currentState === SELECTED_STATE\n  }, skill.title)));\n});\nvar shadowburst = /*#__PURE__*/\nkeyframes( /*#__PURE__*/\n_templateObject$4());\nvar shadowpulse = /*#__PURE__*/\nkeyframes( /*#__PURE__*/\n_templateObject2$2());\nvar StyledNode = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject3(), function (_ref) {\n  var theme = _ref.theme;\n  return theme.nodeBackgroundColor;\n}, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.nodeBorderColor;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadius;\n}, function (props) {\n  return props.selected && css(_templateObject4(), shadowburst, function (_ref4) {\n    var theme = _ref4.theme;\n    return props.color === 'default' ? theme.nodeActiveBackgroundColor : theme.nodeAlternativeActiveBackgroundColor;\n  });\n}, function (props) {\n  return props.unlocked && css(_templateObject5(), shadowpulse, function (_ref5) {\n    var theme = _ref5.theme;\n    return theme.nodeHoverBorderColor;\n  }, function (_ref6) {\n    var theme = _ref6.theme;\n    return theme.nodeHoverBorder;\n  }, function (_ref7) {\n    var theme = _ref7.theme;\n    return theme.nodeHoverBorder;\n  }, function (_ref8) {\n    var theme = _ref8.theme;\n    return theme.nodeHoverBorder;\n  }, function (_ref9) {\n    var theme = _ref9.theme;\n    return theme.nodeHoverBorder;\n  }, function (props) {\n    return props.isIOS ? 0 : '95%';\n  });\n}, function (props) {\n  return props.unlocked && props.optional && css(_templateObject6(), function (_ref10) {\n    var theme = _ref10.theme;\n    return theme.nodeBackgroundColor;\n  });\n}, function (props) {\n  return props.locked && \"\\n        cursor: initial;\\n        opacity: 0.65;\\n    \";\n});\nvar IconNode = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject7(), function (_ref11) {\n  var theme = _ref11.theme;\n  return theme.nodeIconNodeWidth;\n});\nvar TextNode = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject8(), function (_ref12) {\n  var theme = _ref12.theme;\n  return theme.nodeMobileTextNodeHeight;\n}, function (_ref13) {\n  var theme = _ref13.theme;\n  return theme.nodeMobileTextNodeWidth;\n}, function (_ref14) {\n  var theme = _ref14.theme;\n  return theme.nodeDesktopTextNodeHeight;\n}, function (_ref15) {\n  var theme = _ref15.theme;\n  return theme.nodeDesktopTextNodeWidth;\n});\nvar Text = /*#__PURE__*/\nstyled__default.p( /*#__PURE__*/\n_templateObject9(), function (_ref16) {\n  var theme = _ref16.theme;\n  return theme.nodeMobileFontSize;\n}, function (_ref17) {\n  var theme = _ref17.theme;\n  return theme.nodeDesktopFontSize;\n});\nvar AlternativeText = /*#__PURE__*/\nstyled__default(Text)( /*#__PURE__*/\n_templateObject10(), function (_ref18) {\n  var theme = _ref18.theme;\n  return theme.nodeAlternativeFontColor;\n}, function (props) {\n  return props.selected && css(_templateObject11(), function (_ref19) {\n    var theme = _ref19.theme;\n    return theme.nodeAltenativeActiveFontColor;\n  });\n});\nfunction _templateObject5$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  justify-content: center;\\n  position: relative;\\n\"]);\n  _templateObject5$1 = function _templateObject5() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject4$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      animation: \", \" 3.5s 1;\\n    \"]);\n  _templateObject4$1 = function _templateObject4() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject3$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  border-radius: \", \";\\n  height: 100%;\\n  left: 3px;\\n  opacity: 0;\\n  pointer-events: none;\\n  position: absolute;\\n  width: \", \"px;\\n  z-index: 10;\\n\\n  @media (min-width: 410px) {\\n    left: 8px;\\n  }\\n\\n  @media (min-width: 900px) {\\n    left: 16px;\\n  }\\n\\n  \", \"\\n\"]);\n  _templateObject3$1 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin: 0 auto;\\n  position: relative;\\n  width: fit-content;\\n\"]);\n  _templateObject2$3 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from,\\n  30% {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n  }\\n\"]);\n  _templateObject$5 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar keyframes$1 = /*#__PURE__*/\nrequire('styled-components').keyframes;\nvar css$1 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction SkillNode(_ref) {\n  var skill = _ref.skill,\n    nodeState = _ref.nodeState,\n    incSkillCount = _ref.incSkillCount,\n    decSkillCount = _ref.decSkillCount,\n    updateSkillState = _ref.updateSkillState,\n    _ref$handleNodeSelect = _ref.handleNodeSelect,\n    handleNodeSelect = _ref$handleNodeSelect === void 0 ? function () {\n      return null;\n    } : _ref$handleNodeSelect;\n  var children = skill.children,\n    title = skill.title,\n    tooltip = skill.tooltip,\n    id = skill.id,\n    optional = skill.optional;\n  var _React$useState = React.useState(0),\n    parentPosition = _React$useState[0],\n    setParentPosition = _React$useState[1];\n  var skillNodeRef = React.useRef(null);\n  var childWidth = React.useRef(0);\n  function calculatePosition() {\n    var _skillNodeRef$current = skillNodeRef.current.getBoundingClientRect(),\n      left = _skillNodeRef$current.left,\n      right = _skillNodeRef$current.right;\n    var scrollX = window.scrollX;\n    setParentPosition((right - left) / 2 + left + scrollX);\n  }\n  function calculateOverlayWidth() {\n    childWidth.current = skillNodeRef.current.clientWidth;\n  }\n  function handleResize() {\n    calculatePosition();\n    calculateOverlayWidth();\n  }\n  function handleClick() {\n    if (nodeState === LOCKED_STATE) {\n      return null;\n    }\n    if (nodeState === UNLOCKED_STATE) {\n      incSkillCount(optional);\n      handleNodeSelect(id, SELECTED_STATE);\n      return updateSkillState(id, SELECTED_STATE, optional);\n    }\n    handleNodeSelect(id, UNLOCKED_STATE);\n    decSkillCount(optional);\n    return updateSkillState(id, UNLOCKED_STATE, optional);\n  }\n  React.useEffect(function () {\n    var throttledHandleResize = lodash.throttle(handleResize, 200);\n    calculatePosition();\n    calculateOverlayWidth();\n    window.addEventListener('resize', throttledHandleResize);\n    return function cleanup() {\n      window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n  var hasMultipleChildren = children.length > 1;\n  return React.createElement(React.Fragment, null, React.createElement(StyledSkillNode, null, React.createElement(SkillNodeOverlay, {\n    selected: nodeState === SELECTED_STATE,\n    childWidth: childWidth.current,\n    \"data-testid\": \"skill-node-overlay\"\n  }), React.createElement(Tooltip, {\n    title: title,\n    tooltip: tooltip\n  }, React.createElement(Node, {\n    handleClick: handleClick,\n    id: id,\n    currentState: nodeState,\n    skill: skill,\n    ref: skillNodeRef\n  }))), children.length > 0 && React.createElement(SkillTreeSegmentWrapper, null, children.map(function (child) {\n    return React.createElement(SkillTreeSegment, {\n      key: child.id,\n      hasParent: true,\n      parentPosition: parentPosition,\n      parentHasMultipleChildren: hasMultipleChildren,\n      shouldBeUnlocked: optional && nodeState === UNLOCKED_STATE || nodeState === SELECTED_STATE,\n      skill: child\n    });\n  })));\n}\nvar SkillNode$1 = /*#__PURE__*/\nReact.memo(SkillNode);\nvar fadeout = /*#__PURE__*/\nkeyframes$1( /*#__PURE__*/\n_templateObject$5());\nvar StyledSkillNode = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject2$3());\nvar SkillNodeOverlay = /*#__PURE__*/\nstyled__default.span( /*#__PURE__*/\n_templateObject3$1(), function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.nodeOverlayColor;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadius;\n}, function (props) {\n  return props.childWidth + 4;\n}, function (props) {\n  return props.selected && css$1(_templateObject4$1(), fadeout);\n});\nvar SkillTreeSegmentWrapper = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject5$1());\nfunction _templateObject4$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      animation: \", \" 1.2s 1 ease-out;\\n      background-position: left bottom;\\n    \"]);\n  _templateObject4$2 = function _templateObject4() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject3$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background: linear-gradient(\\n    to right,\\n    rgba(255, 255, 255, 1) 0%,\\n    rgba(255, 255, 255, 1) 50%,\\n    rgba(255, 255, 255, 0) 51%,\\n    rgba(255, 255, 255, 0) 100%\\n  );\\n  background-size: 210% 100%;\\n  background-position: right top;\\n  border: \", \";\\n  height: 4px;\\n  opacity: 0.5;\\n  transform: rotate(90deg);\\n  transform-origin: 0 0;\\n  transition: opacity 0.6s;\\n  width: 56px;\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n  _templateObject3$2 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from,\\n  50% {\\n    background-position: right top;\\n  }\\n\\n  to {\\n    background-position: left bottom;\\n  }\\n\"]);\n  _templateObject2$4 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$6() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  height: 56px;\\n  left: 4px;\\n  margin: 0 auto;\\n  position: relative;\\n  width: 4px;\\n\"]);\n  _templateObject$6 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar keyframes$2 = /*#__PURE__*/\nrequire('styled-components').keyframes;\nvar css$2 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction Line(_ref) {\n  var state = _ref.state;\n  return React__default.createElement(LineContainer, null, React__default.createElement(StyledLine, {\n    \"data-testid\": \"straight-line\",\n    selected: state === SELECTED_STATE,\n    unlocked: state !== LOCKED_STATE\n  }));\n}\nvar LineContainer = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject$6());\nvar slidedown = /*#__PURE__*/\nkeyframes$2( /*#__PURE__*/\n_templateObject2$4());\nvar StyledLine = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject3$2(), function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.edgeBorder;\n}, function (props) {\n  return props.selected && css$2(_templateObject4$2(), slidedown);\n}, function (props) {\n  return props.unlocked && \"\\n      opacity: 1;\\n    \";\n});\nfunction _templateObject$7() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background: linear-gradient(\\n    to right,\\n    rgba(255, 255, 255, 1) 0%,\\n    rgba(255, 255, 255, 1) 50%,\\n    rgba(255, 255, 255, 0) 51%,\\n    rgba(255, 255, 255, 0) 100%\\n  );\\n  background-size: 210% 100%;\\n  background-position: right top;\\n  border: \", \";\\n  height: 4px;\\n  position: absolute;\\n  opacity: 0.5;\\n  transition: opacity 0.6s;\\n\\n  \", \"\\n\"]);\n  _templateObject$7 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar StyledAngledLine = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject$7(), function (_ref) {\n  var theme = _ref.theme;\n  return theme.edgeBorder;\n}, function (props) {\n  return props.unlocked && \"\\n      opacity: 1;\\n  \";\n});\nfunction _templateObject3$3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from,\\n  33% {\\n    background-position: right top;\\n  }\\n\\n  to {\\n    background-position: left bottom;\\n  }\\n\"]);\n  _templateObject3$3 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      animation: \", \" 0.3s 1 ease-in;\\n      background-position: left bottom;\\n    \"]);\n  _templateObject2$5 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$8() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  transform: rotate(90deg) translateY(-50%);\\n  transform-origin: 0 0;\\n  left: 50%;\\n  top: -1px;\\n  width: 29px;\\n\\n  \", \"\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n  _templateObject$8 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar keyframes$3 = /*#__PURE__*/\nrequire('styled-components').keyframes;\nvar css$3 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction UpperAngledLine(props) {\n  var direction = props.direction,\n    state = props.state;\n  return React__default.createElement(AngledLineVerticalTop, {\n    \"data-testid\": \"upper-angled-line\",\n    direction: direction,\n    selected: state === SELECTED_STATE,\n    unlocked: state !== LOCKED_STATE\n  });\n}\nvar AngledLineVerticalTop = /*#__PURE__*/\nstyled__default(StyledAngledLine)( /*#__PURE__*/\n_templateObject$8(), function (props) {\n  return props.direction === 'right' && \"\\n      border-bottom-right-radius: 8px;\\n    \";\n}, function (props) {\n  return props.direction === 'left' && \"\\n      border-top-right-radius: 8px;\\n    \";\n}, function (props) {\n  return props.selected && css$3(_templateObject2$5(), slideDownAngledLineTop);\n});\nvar slideDownAngledLineTop = /*#__PURE__*/\nkeyframes$3( /*#__PURE__*/\n_templateObject3$3());\nfunction _templateObject3$4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from,\\n  30% {\\n    background-position: right top;\\n  }\\n\\n  to {\\n    background-position: left bottom;\\n  }\\n\"]);\n  _templateObject3$4 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$6() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      animation: \", \" 1s 1;\\n      background-position: left bottom;\\n    \"]);\n  _templateObject2$6 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$9() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  border-left: none;\\n  border-right: none;\\n  top: 24px;\\n  left: 50%;\\n  width: \", \"px;\\n  transform: translateX(3px) scale(-1);\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n  _templateObject$9 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar keyframes$4 = /*#__PURE__*/\nrequire('styled-components').keyframes;\nvar css$4 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction MiddleAngledLine(props) {\n  var direction = props.direction,\n    parentPosition = props.parentPosition,\n    childPosition = props.childPosition,\n    state = props.state;\n  var width = direction === 'left' ? parentPosition - childPosition - 6 : childPosition - parentPosition - 6;\n  return React__default.createElement(AngledLineHoriztonal, {\n    \"data-testid\": \"middle-angled-line\",\n    direction: direction,\n    unlocked: state !== LOCKED_STATE,\n    selected: state === SELECTED_STATE,\n    width: width\n  });\n}\nvar AngledLineHoriztonal = /*#__PURE__*/\nstyled__default(StyledAngledLine)( /*#__PURE__*/\n_templateObject$9(), function (props) {\n  return props.width;\n}, function (props) {\n  return props.direction === 'right' && \"\\n      transform: translateX(-3px) scale(-1);\\n      transform-origin: 0;\\n  \";\n}, function (props) {\n  return props.selected && css$4(_templateObject2$6(), slideDownAngledLineMiddle);\n});\nvar slideDownAngledLineMiddle = /*#__PURE__*/\nkeyframes$4( /*#__PURE__*/\n_templateObject3$4());\nfunction _templateObject3$5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from,\\n  70% {\\n    background-position: right top;\\n  }\\n\\n  to {\\n    background-position: left bottom;\\n  }\\n\"]);\n  _templateObject3$5 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$7() {\n  var data = _taggedTemplateLiteralLoose([\"\\n        animation: \", \" 1.2s 1 ease-out;\\n        background-position: left bottom;\\n      \"]);\n  _templateObject2$7 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$a() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  transform: rotate(90deg) translateY(-50%);\\n  transform-origin: 0 0;\\n  left: 50%;\\n  top: 24px;\\n  width: 31px;\\n\\n  \", \"\\n\\n  \", \"\\n\\n    \", \"\\n\"]);\n  _templateObject$a = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar keyframes$5 = /*#__PURE__*/\nrequire('styled-components').keyframes;\nvar css$5 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction LowerAngledLine(props) {\n  var state = props.state,\n    direction = props.direction;\n  return React__default.createElement(AngledLineVerticalBottom, {\n    unlocked: state !== LOCKED_STATE,\n    direction: direction,\n    \"data-testid\": \"lower-angled-line\",\n    selected: state === SELECTED_STATE\n  });\n}\nvar AngledLineVerticalBottom = /*#__PURE__*/\nstyled__default(StyledAngledLine)( /*#__PURE__*/\n_templateObject$a(), function (props) {\n  return props.direction === 'right' && \"\\n        border-top-left-radius: 8px;\\n      \";\n}, function (props) {\n  return props.direction === 'left' && \"\\n      border-bottom-left-radius: 8px;\\n    \";\n}, function (props) {\n  return props.selected && css$5(_templateObject2$7(), slideDownAngledLineBottom);\n});\nvar slideDownAngledLineBottom = /*#__PURE__*/\nkeyframes$5( /*#__PURE__*/\n_templateObject3$5());\nfunction SkillEdge(props) {\n  var parentHasMultipleChildren = props.parentHasMultipleChildren,\n    state = props.state,\n    childNodeRef = props.childNodeRef,\n    parentPosition = props.parentPosition;\n  if (!parentHasMultipleChildren) return React__default.createElement(Line, {\n    state: state\n  });\n  var _useState = React.useState(0),\n    childPosition = _useState[0],\n    setChildPosition = _useState[1];\n  var direction = parentPosition < childPosition ? 'right' : 'left';\n  function calculatePosition() {\n    var _childNodeRef$current = childNodeRef.current.getBoundingClientRect(),\n      left = _childNodeRef$current.left,\n      width = _childNodeRef$current.width;\n    var scrollX = window.scrollX;\n    setChildPosition(left + width / 2 + scrollX);\n  }\n  React.useEffect(function () {\n    var throttledHandleResize = lodash.throttle(calculatePosition, 200);\n    window.addEventListener('resize', throttledHandleResize);\n    calculatePosition();\n    return function cleanup() {\n      window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n  return React__default.createElement(\"div\", {\n    style: {\n      height: '56px'\n    }\n  }, React__default.createElement(UpperAngledLine, {\n    state: state,\n    direction: direction\n  }), React__default.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    }\n  }, React__default.createElement(MiddleAngledLine, {\n    parentPosition: parentPosition,\n    childPosition: childPosition,\n    state: state,\n    direction: direction\n  }), React__default.createElement(LowerAngledLine, {\n    direction: direction,\n    state: state\n  })));\n}\nvar SkillContext = /*#__PURE__*/\nReact.createContext({\n  mounting: true,\n  skills: {},\n  skillCount: 0,\n  selectedCount: 0,\n  updateSkillState: function updateSkillState() {\n    return undefined;\n  },\n  setSkillCount: function setSkillCount() {\n    return undefined;\n  },\n  handleNodeSelect: function handleNodeSelect() {\n    return undefined;\n  },\n  incrementSelectedCount: function incrementSelectedCount() {\n    return undefined;\n  },\n  decrementSelectedCount: function decrementSelectedCount() {\n    return undefined;\n  }\n});\nvar SkillTreeProvider = /*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(SkillTreeProvider, _React$Component);\n  function SkillTreeProvider(props, context) {\n    var _this;\n    _this = _React$Component.call(this, props, context) || this;\n    _this.storage = null;\n    _this.getTreeSkills = function () {\n      if (_this.props.savedData) {\n        return _this.props.savedData;\n      }\n      var treeId = _this.props.treeId;\n      var storedItems = _this.storage.getItem(\"skills-\" + treeId);\n      if (storedItems === 'undefined' || storedItems === null) {\n        return {};\n      }\n      return JSON.parse(storedItems);\n    };\n    _this.incrementSelectedCount = function (optional) {\n      if (optional === void 0) {\n        optional = false;\n      }\n      var action = {\n        type: optional ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL'\n      };\n      _this.setState(function (prevState) {\n        var selectedCount = prevState.selectedCount;\n        return {\n          selectedCount: selectedCount + 1\n        };\n      });\n      _this.context.dispatch(action);\n    };\n    _this.decrementSelectedCount = function (optional) {\n      if (optional === void 0) {\n        optional = false;\n      }\n      var action = {\n        type: optional ? 'DESELECT_OPTIONAL_SKILL' : 'DESELECT_REQUIRED_SKILL'\n      };\n      _this.setState(function (prevState) {\n        var selectedCount = prevState.selectedCount;\n        return {\n          selectedCount: selectedCount - 1\n        };\n      });\n      _this.context.dispatch(action);\n    };\n    _this.resetSkills = function () {\n      return _this.setState(function (prevState) {\n        var skills = prevState.skills;\n        var resettedSkills = lodash.mapValues(skills, function (skill) {\n          return {\n            optional: skill.optional,\n            nodeState: LOCKED_STATE\n          };\n        });\n        return {\n          skills: resettedSkills,\n          resetId: _this.context.resetId\n        };\n      });\n    };\n    _this.setSkillCount = function (skillCount) {\n      return _this.setState({\n        skillCount: skillCount\n      });\n    };\n    _this.handleNodeSelect = function (key, state) {\n      return _this.props.sendNodeSelectDataToClient({\n        key: key,\n        state: state\n      });\n    };\n    _this.updateSkillState = function (key, updatedState, optional) {\n      if (optional === void 0) {\n        optional = false;\n      }\n      var _this$props = _this.props,\n        handleSave = _this$props.handleSave,\n        treeId = _this$props.treeId;\n      return _this.setState(function (prevState) {\n        var _extends2;\n        var updatedSkills = _extends({}, prevState.skills, (_extends2 = {}, _extends2[key] = {\n          optional: optional,\n          nodeState: updatedState\n        }, _extends2));\n        handleSave(_this.storage, treeId, updatedSkills);\n        return {\n          skills: updatedSkills\n        };\n      });\n    };\n    _this.state = {\n      skills: {},\n      skillCount: 0,\n      selectedCount: 0,\n      resetId: context.resetId,\n      mounting: true\n    };\n    return _this;\n  }\n  var _proto = SkillTreeProvider.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var storage = this.props.storage;\n    var context = this.context;\n    if (storage) {\n      this.storage = storage;\n    } else {\n      this.storage = localStorage;\n    }\n    var treeSkills = this.getTreeSkills();\n    var selectedCount = 0;\n    Object.keys(treeSkills).map(function (key) {\n      if (treeSkills[key].nodeState === SELECTED_STATE) {\n        selectedCount++;\n        var action = {\n          type: treeSkills[key].optional ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL'\n        };\n        context.dispatch(action);\n      }\n    });\n    this.setState({\n      skills: treeSkills,\n      selectedCount: selectedCount,\n      mounting: false\n    });\n    return null;\n  };\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.context.resetId !== this.state.resetId) {\n      this.resetSkills();\n    }\n  };\n  _proto.render = function render() {\n    return React.createElement(SkillContext.Provider, {\n      value: {\n        mounting: this.state.mounting,\n        skills: this.state.skills,\n        skillCount: this.state.skillCount,\n        selectedCount: this.state.selectedCount,\n        updateSkillState: this.updateSkillState,\n        setSkillCount: this.setSkillCount,\n        handleNodeSelect: this.handleNodeSelect,\n        incrementSelectedCount: this.incrementSelectedCount,\n        decrementSelectedCount: this.decrementSelectedCount\n      }\n    }, this.props.children);\n  };\n  return SkillTreeProvider;\n}(React.Component);\nSkillTreeProvider.contextType = AppContext;\nSkillTreeProvider.defaultProps = {\n  handleSave: function handleSave(storage, treeId, skills) {\n    return storage.setItem(\"skills-\" + treeId, JSON.stringify(skills));\n  },\n  sendNodeSelectDataToClient: function sendNodeSelectDataToClient() {\n    return null;\n  }\n};\nfunction SkillTreeSegment(_ref) {\n  var skill = _ref.skill,\n    hasParent = _ref.hasParent,\n    parentHasMultipleChildren = _ref.parentHasMultipleChildren,\n    parentPosition = _ref.parentPosition,\n    shouldBeUnlocked = _ref.shouldBeUnlocked;\n  var _useContext = React.useContext(SkillContext),\n    mounting = _useContext.mounting,\n    skills = _useContext.skills,\n    updateSkillState = _useContext.updateSkillState,\n    decrementSelectedCount = _useContext.decrementSelectedCount,\n    incrementSelectedCount = _useContext.incrementSelectedCount,\n    handleNodeSelect = _useContext.handleNodeSelect;\n  var skillNodeRef = React.useRef(null);\n  var nodeState = skills[skill.id] ? skills[skill.id].nodeState : 'locked';\n  React.useEffect(function () {\n    if (mounting) return;\n    if (nodeState === SELECTED_STATE && !shouldBeUnlocked) {\n      decrementSelectedCount();\n      return updateSkillState(skill.id, LOCKED_STATE, skill.optional);\n    }\n    if (nodeState === UNLOCKED_STATE && !shouldBeUnlocked) {\n      return updateSkillState(skill.id, LOCKED_STATE, skill.optional);\n    }\n    if (!shouldBeUnlocked) {\n      return;\n    }\n    if (nodeState === LOCKED_STATE && shouldBeUnlocked) {\n      return updateSkillState(skill.id, UNLOCKED_STATE, skill.optional);\n    }\n  }, [nodeState, shouldBeUnlocked, mounting]);\n  React.useEffect(function () {\n    if (mounting) return;\n    if (lodash.isEmpty(skills)) {\n      return updateSkillState(skill.id, UNLOCKED_STATE);\n    }\n    return;\n  }, [mounting]);\n  return React__default.createElement(\"div\", {\n    style: {\n      margin: !hasParent ? '16px 0' : ''\n    }\n  }, hasParent && React__default.createElement(SkillEdge, {\n    parentHasMultipleChildren: parentHasMultipleChildren,\n    state: nodeState,\n    childNodeRef: skillNodeRef,\n    parentPosition: parentPosition\n  }), React__default.createElement(\"div\", {\n    ref: skillNodeRef\n  }, React__default.createElement(SkillNode$1, {\n    incSkillCount: React.useCallback(incrementSelectedCount, []),\n    decSkillCount: React.useCallback(decrementSelectedCount, []),\n    updateSkillState: updateSkillState,\n    skill: skill,\n    nodeState: nodeState,\n    handleNodeSelect: handleNodeSelect\n  })));\n}\nSkillTreeSegment.defaultProps = {\n  hasParent: true\n};\nfunction HSeparator(_ref) {\n  var display = _ref.display;\n  return React.createElement(\"div\", {\n    style: {\n      height: '2px'\n    }\n  }, display && React.createElement(\"hr\", {\n    style: {\n      margin: 0\n    },\n    \"data-testid\": \"h-separator\"\n  }));\n}\nfunction _templateObject2$8() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      transition: transform 0.15s ease-out, opacity 0.15s ease-out,\\n        max-height 0.15s ease-out, visibility 0.15s 0.15s ease-out;\\n      transform: scaleY(0);\\n      visibility: hidden;\\n      max-height: 0;\\n      width: 304px;\\n      opacity: 0;\\n    \"]);\n  _templateObject2$8 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$b() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  transition: transform 0.15s ease-out, opacity 0.15s ease-out,\\n    max-height 0.15s ease-out, visibility 0.15s ease-out;\\n  height: auto;\\n  max-height: 10000px;\\n  min-width: 304px;\\n  opacity: 1;\\n  overflow: hidden;\\n  visibility: visible;\\n  transform: scaleY(1);\\n  transform-origin: top;\\n\\n  \", \"\\n\"]);\n  _templateObject$b = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar css$6 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction VisibilityContainer(props) {\n  var isVisible = props.isVisible,\n    children = props.children;\n  var _useState = React.useState(isVisible),\n    hasBeenVisible = _useState[0],\n    setHasBeenVisibleState = _useState[1];\n  React.useEffect(function () {\n    if (isVisible) {\n      setHasBeenVisibleState(true);\n    }\n  }, [isVisible, setHasBeenVisibleState]);\n  if (!hasBeenVisible) return null;\n  return React__default.createElement(StyledVisibilityContainer, {\n    \"data-testid\": \"visibility-container\",\n    isVisible: isVisible\n  }, children);\n}\nvar StyledVisibilityContainer = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject$b(), function (_ref) {\n  var isVisible = _ref.isVisible;\n  return !isVisible && css$6(_templateObject2$8());\n});\nfunction calculateNodeCount(data) {\n  return data.reduce(function (prev, curr) {\n    var _extends2;\n    var nodeType = curr.optional ? 'optional' : 'required';\n    if (curr.children.length > 0) {\n      var incOptional = nodeType === 'optional' ? 1 : 0;\n      var incRequired = nodeType === 'required' ? 1 : 0;\n      var childNodeCount = calculateNodeCount(curr.children);\n      return {\n        optional: prev.optional + childNodeCount.optional + incOptional,\n        required: prev.required + childNodeCount.required + incRequired\n      };\n    }\n    return _extends({}, prev, (_extends2 = {}, _extends2[nodeType] = prev[nodeType] + 1, _extends2));\n  }, {\n    required: 0,\n    optional: 0\n  });\n}\nfunction CalculateNodeCount(_ref) {\n  var data = _ref.data;\n  var _useContext = React.useContext(AppContext),\n    addToSkillCount = _useContext.addToSkillCount;\n  var _useContext2 = React.useContext(SkillContext),\n    setSkillCount = _useContext2.setSkillCount;\n  React.useEffect(function () {\n    var count = calculateNodeCount(data);\n    var required = count.required,\n      optional = count.optional;\n    setSkillCount(required + optional);\n    addToSkillCount(count);\n  }, []);\n  return null;\n}\nfunction _templateObject$c() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  font-family: \", \";\\n  margin-top: 0;\\n  text-align: center;\\n\"]);\n  _templateObject$c = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nfunction SkillCountSubtitle() {\n  var _useContext = React.useContext(SkillContext),\n    skillCount = _useContext.skillCount,\n    selectedCount = _useContext.selectedCount;\n  var percentageCompleted = Math.ceil(selectedCount / skillCount * 100);\n  return React__default.createElement(StyledSkillCountSubtitle, null, skillCount, \" skills | \", percentageCompleted, \"%\");\n}\nvar StyledSkillCountSubtitle = /*#__PURE__*/\nstyled__default.p( /*#__PURE__*/\n_templateObject$c(), function (_ref) {\n  var theme = _ref.theme;\n  return theme.headingFont;\n});\nfunction _templateObject7$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  font-family: \", \";\\n  margin-bottom: 0;\\n  min-width: 152px;\\n  text-align: center;\\n\"]);\n  _templateObject7$1 = function _templateObject7() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject6$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background: \", \";\\n  color: \", \";\\n\\n  &[data-placement^='top'] {\\n    .tippy-arrow {\\n      border-top-color: \", \";\\n    }\\n  }\\n\"]);\n  _templateObject6$1 = function _templateObject6() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject5$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      transform: rotate(180deg);\\n    \"]);\n  _templateObject5$2 = function _templateObject5() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject4$3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  color: \", \";\\n  display: \", \";\\n  font-family: \", \";\\n  font-size: \", \";\\n  left: 8px;\\n  position: absolute;\\n  transform: rotate(90deg);\\n  transition: 0.15s transform ease-out;\\n\\n  \", \"\\n\"]);\n  _templateObject4$3 = function _templateObject4() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject3$6() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      background: \", \";\\n      border: \", \";\\n      border-radius: \", \";\\n      cursor: pointer;\\n      min-width: 300px;\\n      transition: \", \";\\n      user-select: none;\\n\\n      &:hover {\\n        background: \", \";\\n      }\\n    \"]);\n  _templateObject3$6 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$9() {\n  var data = _taggedTemplateLiteralLoose([\"\\n      opacity: \", \";\\n    \"]);\n  _templateObject2$9 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$d() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  \", \"\\n  \", \"\\n\"]);\n  _templateObject$d = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar css$7 = /*#__PURE__*/\nrequire('styled-components').css;\nfunction SkillTreeHeader(props) {\n  var handleClick = props.handleClick,\n    collapsible = props.collapsible,\n    isVisible = props.isVisible,\n    id = props.id,\n    title = props.title,\n    description = props.description,\n    disabled = props.disabled;\n  var _useContext = React.useContext(styled.ThemeContext),\n    tooltipZIndex = _useContext.tooltipZIndex;\n  var memoizedHandleKeyDown = React.useCallback(function handleKeyDown(e) {\n    if (e.keyCode === 13) {\n      handleClick();\n    }\n  }, [handleClick]);\n  return React__default.createElement(StyledTippy$1, {\n    zIndex: tooltipZIndex,\n    enabled: Boolean(description),\n    content: description || ''\n  }, React__default.createElement(StyledSkillTreeHeader, {\n    tabIndex: 0,\n    onKeyDown: memoizedHandleKeyDown,\n    onPointerDown: handleClick,\n    isCollapsible: collapsible,\n    isDisabled: disabled\n  }, React__default.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    }\n  }, React__default.createElement(HeaderCaret, {\n    isCollapsible: collapsible,\n    isVisible: isVisible\n  }, \"\\u25B2\"), React__default.createElement(SkillTreeTitle, {\n    id: id\n  }, title)), React__default.createElement(SkillCountSubtitle, null)));\n}\nvar StyledSkillTreeHeader = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject$d(), function (_ref) {\n  var isDisabled = _ref.isDisabled;\n  return isDisabled && css$7(_templateObject2$9(), function (_ref2) {\n    var theme = _ref2.theme;\n    return theme.disabledTreeOpacity;\n  });\n}, function (_ref3) {\n  var isCollapsible = _ref3.isCollapsible;\n  return isCollapsible && css$7(_templateObject3$6(), function (_ref4) {\n    var theme = _ref4.theme;\n    return theme.treeBackgroundColor;\n  }, function (_ref5) {\n    var theme = _ref5.theme;\n    return theme.border;\n  }, function (_ref6) {\n    var theme = _ref6.theme;\n    return theme.borderRadius;\n  }, function (_ref7) {\n    var theme = _ref7.theme;\n    return theme.headingHoverColorTransition;\n  }, function (_ref8) {\n    var theme = _ref8.theme;\n    return theme.headingHoverColor;\n  });\n});\nvar HeaderCaret = /*#__PURE__*/\nstyled__default.span( /*#__PURE__*/\n_templateObject4$3(), function (_ref9) {\n  var theme = _ref9.theme;\n  return theme.headingFontColor;\n}, function (_ref10) {\n  var isCollapsible = _ref10.isCollapsible;\n  return isCollapsible ? 'inline' : 'none';\n}, function (_ref11) {\n  var theme = _ref11.theme;\n  return theme.headingFont;\n}, function (_ref12) {\n  var theme = _ref12.theme;\n  return theme.headingFontSize;\n}, function (_ref13) {\n  var isVisible = _ref13.isVisible;\n  return isVisible && css$7(_templateObject5$2());\n});\nvar StyledTippy$1 = /*#__PURE__*/\nstyled__default(Tippy)( /*#__PURE__*/\n_templateObject6$1(), function (_ref14) {\n  var theme = _ref14.theme;\n  return theme.tooltipBackgroundColor;\n}, function (_ref15) {\n  var theme = _ref15.theme;\n  return theme.tooltipFontColor;\n}, function (_ref16) {\n  var theme = _ref16.theme;\n  return theme.tooltipBackgroundColor;\n});\nvar SkillTreeTitle = /*#__PURE__*/\nstyled__default.h2( /*#__PURE__*/\n_templateObject7$1(), function (_ref17) {\n  var theme = _ref17.theme;\n  return theme.headingFont;\n});\nfunction createSkillsTreeMap(treeId, skills) {\n  var skillsTreeMap = {};\n  function addSkillToMap(currentSkill) {\n    currentSkill.forEach(function (skill) {\n      if (skill.children.length > 0) {\n        addSkillToMap(skill.children);\n      }\n      skillsTreeMap[skill.title.toLowerCase()] = treeId;\n    });\n  }\n  addSkillToMap(skills);\n  return skillsTreeMap;\n}\nfunction AddToFilterIndex(props) {\n  var skills = props.skills,\n    treeId = props.treeId;\n  var _useContext = React.useContext(FilterContext),\n    addToSkillMap = _useContext.addToSkillMap;\n  React.useEffect(function () {\n    var skillsTreeMap = createSkillsTreeMap(treeId, skills);\n    addToSkillMap(skillsTreeMap);\n  }, []);\n  return null;\n}\nfunction FilterListener(_ref) {\n  var setVisibility = _ref.setVisibility,\n    isVisible = _ref.isVisible,\n    treeId = _ref.treeId,\n    disabled = _ref.disabled;\n  var _useContext = React.useContext(FilterContext),\n    filtersMatches = _useContext.filtersMatches;\n  var _useState = React.useState(false),\n    hasLoaded = _useState[0],\n    setLoadingState = _useState[1];\n  React.useEffect(function () {\n    if (!hasLoaded) {\n      return setLoadingState(true);\n    }\n    if (disabled) {\n      return setVisibility(false);\n    }\n    if (!filtersMatches) {\n      if (isVisible === true) return;\n      return setVisibility(true);\n    }\n    if (!filtersMatches.has(treeId)) {\n      if (isVisible === false) return;\n      return setVisibility(false);\n    }\n    if (isVisible === true) return;\n    return setVisibility(true);\n  }, [filtersMatches]);\n  return null;\n}\nfunction _templateObject2$a() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background: \", \";\\n  border: \", \";\\n  border-top: \", \";\\n  border-radius: \", \";\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n\\n  @media (min-width: 1200px) {\\n    flex-direction: row;\\n  }\\n\"]);\n  _templateObject2$a = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$e() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  margin: 0 8px 48px;\\n  min-width: 304px;\\n\\n  @media (min-width: 900px) {\\n    margin: 0 8px 16px;\\n    padding: 16px;\\n  }\\n\"]);\n  _templateObject$e = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nfunction SkillTree(_ref) {\n  var data = _ref.data,\n    title = _ref.title,\n    description = _ref.description,\n    closedByDefault = _ref.closedByDefault,\n    treeId = _ref.treeId,\n    savedData = _ref.savedData,\n    handleSave = _ref.handleSave,\n    handleNodeSelect = _ref.handleNodeSelect,\n    _ref$collapsible = _ref.collapsible,\n    collapsible = _ref$collapsible === void 0 ? false : _ref$collapsible,\n    _ref$disabled = _ref.disabled,\n    disabled = _ref$disabled === void 0 ? false : _ref$disabled;\n  var isMobile = useMobile();\n  var initialVisibility = closedByDefault || disabled ? false : true;\n  var _useState = React.useState(initialVisibility),\n    isVisible = _useState[0],\n    setVisibility = _useState[1];\n  var memoizedToggleVisibility = React.useCallback(function toggleVisibility() {\n    if (disabled) {\n      return setVisibility(false);\n    }\n    if (!collapsible) {\n      return setVisibility(true);\n    }\n    return setVisibility(!isVisible);\n  }, [isVisible, disabled, collapsible]);\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(AddToFilterIndex, {\n    treeId: treeId,\n    skills: data\n  }), React__default.createElement(FilterListener, {\n    disabled: disabled,\n    isVisible: isVisible,\n    setVisibility: setVisibility,\n    treeId: treeId\n  }), React__default.createElement(SkillTreeProvider, {\n    treeId: treeId,\n    savedData: savedData,\n    handleSave: handleSave,\n    sendNodeSelectDataToClient: handleNodeSelect\n  }, React__default.createElement(CalculateNodeCount, {\n    data: data\n  }), React__default.createElement(SkillTreeContainer, null, React__default.createElement(SkillTreeHeader, {\n    isVisible: isVisible,\n    disabled: disabled,\n    handleClick: memoizedToggleVisibility,\n    collapsible: collapsible,\n    id: treeId,\n    description: description,\n    title: title\n  }), React__default.createElement(VisibilityContainer, {\n    isVisible: isVisible\n  }, React__default.createElement(StyledSkillTree, {\n    isCollapsible: collapsible\n  }, data.map(function (skill, i) {\n    var displaySeparator = data.length - 1 !== i && isMobile;\n    return React__default.createElement(React__default.Fragment, {\n      key: skill.id\n    }, React__default.createElement(SkillTreeSegment, {\n      shouldBeUnlocked: true,\n      skill: skill,\n      hasParent: false,\n      parentPosition: 0,\n      parentHasMultipleChildren: false\n    }), React__default.createElement(HSeparator, {\n      display: displaySeparator\n    }));\n  }))))));\n}\nvar SkillTreeContainer = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject$e(), function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.backgroundColor;\n});\nvar StyledSkillTree = /*#__PURE__*/\nstyled__default.div( /*#__PURE__*/\n_templateObject2$a(), function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.treeBackgroundColor;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.border;\n}, function (_ref5) {\n  var isCollapsible = _ref5.isCollapsible;\n  return isCollapsible ? '0' : 'auto';\n}, function (_ref6) {\n  var theme = _ref6.theme;\n  return theme.borderRadius;\n});\nfunction SkillProvider(_ref) {\n  var children = _ref.children;\n  return React__default.createElement(AppProvider, null, React__default.createElement(FilterProvider, null, children));\n}\nexports.SkillProvider = SkillProvider;\nexports.SkillTree = SkillTree;\nexports.SkillTreeGroup = SkillTreeGroup;","map":{"version":3,"names":["reducer","state","action","type","selectedSkillCount","optional","required","initialState","AppContext","React","createContext","skillCount","addToSkillCount","undefined","dispatch","resetId","resetSkills","AppProvider","_ref","children","useState","_React$useState","setResetId","_React$useState2","setSkillCount","useReducer","_React$useReducer","prev","uuid","v4","createElement","Provider","value","defaultTheme","backgroundColor","border","borderRadius","primaryFont","primaryFontColor","treeBackgroundColor","disabledTreeOpacity","headingFont","headingFontColor","headingFontSize","headingHoverColor","headingHoverColorTransition","tooltipBackgroundColor","tooltipFontColor","tooltipZIndex","nodeBackgroundColor","nodeBorderColor","nodeAlternativeFontColor","nodeAltenativeActiveFontColor","nodeOverlayColor","nodeAlternativeActiveBackgroundColor","nodeActiveBackgroundColor","nodeHoverBorder","nodeHoverBorderColor","nodeIconWidth","nodeMobileTextNodeHeight","nodeMobileTextNodeWidth","nodeMobileFontSize","nodeDesktopTextNodeHeight","nodeDesktopTextNodeWidth","nodeDesktopFontSize","edgeBorder","FilterContext","filtersMatches","handleFilter","addToSkillMap","FilterProvider","props","skillMap","setSkillMap","setMatches","query","trim","sanitizedQuery","toLowerCase","skills","Object","keys","filteredSkills","filter","key","includes","treeIds","Set","map","skill","defaultProps","theme","SkillTreeGroup","useContext","_React$useContext","_React$useContext2","skillTreeTheme","useMemo","treeData","styled","ThemeProvider","StyleSkillTreeGroup","styled__default","div","_templateObject","_ref2","_ref3","LOCKED_STATE","UNLOCKED_STATE","SELECTED_STATE","img","TooltipContent","memo","content","title","handleClose","Fragment","style","display","justifyContent","Title","onClick","width","margin","cursor","src","alt","ContentContainer","h1","_templateObject$1","_templateObject2","useMobile","Infinity","_useState","setWidth","useEffect","handler","window","innerWidth","throttledHandler","lodash","throttle","addEventListener","removeEventListener","Tooltip","tooltip","direction","_tooltip$direction","ThemeContext","_useContext","tooltipRef","useRef","isMobile","placement","React__default","hideTooltip","current","hide","memoizedContent","StyledTippy","interactive","onCreate","hideOnClick","animation","arrow","appendTo","document","body","touch","zIndex","Tippy","_templateObject$2","_ref4","_ref5","Icon","containerWidth","StyledIcon","Image","attrs","height","_templateObject$3","_templateObject2$1","isIOSDevice","iDevices","navigator","platform","length","pop","keyframes","require","css","Node","forwardRef","ref","handleClick","id","currentState","color","_skill$color","isIOS","setIsIOS","memoizedHandleKeyDown","useCallback","handleKeyDown","e","keyCode","StyledNode","onKeyDown","tabIndex","selected","unlocked","locked","IconNode","icon","TextNode","Text","AlternativeText","shadowburst","_templateObject$4","shadowpulse","_templateObject2$2","_templateObject3","_templateObject4","_templateObject5","_ref6","_ref7","_ref8","_ref9","_templateObject6","_ref10","_templateObject7","_ref11","nodeIconNodeWidth","_templateObject8","_ref12","_ref13","_ref14","_ref15","p","_templateObject9","_ref16","_ref17","_templateObject10","_ref18","_templateObject11","_ref19","keyframes$1","css$1","SkillNode","nodeState","incSkillCount","decSkillCount","updateSkillState","handleNodeSelect","_ref$handleNodeSelect","parentPosition","setParentPosition","skillNodeRef","childWidth","calculatePosition","getBoundingClientRect","left","_skillNodeRef$current","right","scrollX","calculateOverlayWidth","clientWidth","handleResize","throttledHandleResize","cleanup","hasMultipleChildren","StyledSkillNode","SkillNodeOverlay","SkillTreeSegmentWrapper","child","SkillTreeSegment","hasParent","parentHasMultipleChildren","shouldBeUnlocked","SkillNode$1","fadeout","_templateObject$5","_templateObject2$3","span","_templateObject3$1","_templateObject4$1","_templateObject5$1","keyframes$2","css$2","Line","LineContainer","StyledLine","_templateObject$6","slidedown","_templateObject2$4","_templateObject3$2","_templateObject4$2","StyledAngledLine","_templateObject$7","keyframes$3","css$3","UpperAngledLine","AngledLineVerticalTop","_templateObject$8","_templateObject2$5","slideDownAngledLineTop","_templateObject3$3","keyframes$4","css$4","MiddleAngledLine","childPosition","AngledLineHoriztonal","_templateObject$9","_templateObject2$6","slideDownAngledLineMiddle","_templateObject3$4","keyframes$5","css$5","LowerAngledLine","AngledLineVerticalBottom","_templateObject$a","_templateObject2$7","slideDownAngledLineBottom","_templateObject3$5","SkillEdge","childNodeRef","setChildPosition","_childNodeRef$current","position","SkillContext","mounting","selectedCount","incrementSelectedCount","decrementSelectedCount","SkillTreeProvider","_React$Component","context","_this","savedData","treeId","storedItems","storage","getItem","JSON","parse","setState","prevState","resettedSkills","mapValues","sendNodeSelectDataToClient","updatedState","handleSave","_this$props","updatedSkills","_extends","_extends2","componentDidMount","localStorage","treeSkills","getTreeSkills","componentDidUpdate","render","Component","contextType","setItem","stringify","isEmpty","HSeparator","css$6","VisibilityContainer","isVisible","hasBeenVisible","setHasBeenVisibleState","StyledVisibilityContainer","_templateObject$b","_templateObject2$8","calculateNodeCount","data","reduce","curr","nodeType","incOptional","incRequired","childNodeCount","CalculateNodeCount","_useContext2","count","SkillCountSubtitle","percentageCompleted","Math","ceil","StyledSkillCountSubtitle","_templateObject$c","css$7","SkillTreeHeader","collapsible","description","disabled","StyledTippy$1","enabled","Boolean","StyledSkillTreeHeader","onPointerDown","isCollapsible","isDisabled","HeaderCaret","SkillTreeTitle","_templateObject$d","_templateObject2$9","_templateObject3$6","_templateObject4$3","_templateObject5$2","_templateObject6$1","h2","_templateObject7$1","createSkillsTreeMap","skillsTreeMap","addSkillToMap","currentSkill","forEach","AddToFilterIndex","FilterListener","setVisibility","hasLoaded","setLoadingState","has","SkillTree","closedByDefault","_ref$collapsible","_ref$disabled","initialVisibility","memoizedToggleVisibility","toggleVisibility","SkillTreeContainer","StyledSkillTree","i","displaySeparator","_templateObject$e","_templateObject2$a","SkillProvider"],"sources":["/Users/kota/node_modules/beautiful-skill-tree/src/context/appContextReducer.ts","/Users/kota/node_modules/beautiful-skill-tree/src/context/AppContext.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/theme/index.ts","/Users/kota/node_modules/beautiful-skill-tree/src/context/FilterContext.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillTreeGroup.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/constants.ts","/Users/kota/node_modules/beautiful-skill-tree/src/images/close.svg","/Users/kota/node_modules/beautiful-skill-tree/src/components/tooltip/TooltipContent.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/hooks/useMobile.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/tooltip/Tooltip.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/Icon.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/helpers/isIOS.ts","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/Node.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillNode.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/Line.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/AngledLine.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/UpperAngledLine.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/MiddleAngledLine.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/LowerAngledLine.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillEdge.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/context/SkillContext.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillTreeSegment.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/ui/HSeparator.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/VisibilityContainer.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/CalculateNodeCount.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillCountSubtitle.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillTreeHeader.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/filter/AddToFilterIndex.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/filter/FilterListener.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillTree.tsx","/Users/kota/node_modules/beautiful-skill-tree/src/components/SkillProvider.tsx"],"sourcesContent":["import { Action } from 'models';\nimport { initialState } from './AppContext';\n\ntype State = {\n  selectedSkillCount: {\n    required: number;\n    optional: number;\n  };\n};\n\nfunction reducer(state: State, action: Action) {\n  switch (action.type) {\n    case 'SELECT_REQUIRED_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional,\n          required: state.selectedSkillCount.required + 1,\n        },\n      };\n    case 'DESELECT_REQUIRED_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional,\n          required: state.selectedSkillCount.required - 1,\n        },\n      };\n    case 'SELECT_OPTIONAL_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional + 1,\n          required: state.selectedSkillCount.required,\n        },\n      };\n    case 'DESELECT_OPTIONAL_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional - 1,\n          required: state.selectedSkillCount.required,\n        },\n      };\n    case 'RESET_SKILLS':\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n","import * as React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport { SkillCount, Action } from '../models';\nimport reducer from './appContextReducer';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport interface IAppContext {\n  skillCount: SkillCount;\n  addToSkillCount: (skilCount: SkillCount) => void;\n  selectedSkillCount: SkillCount;\n  dispatch: React.Dispatch<Action>;\n  resetId: string;\n  resetSkills: VoidFunction;\n}\n\nconst AppContext = React.createContext<IAppContext>({\n  skillCount: {\n    required: 0,\n    optional: 0,\n  },\n  addToSkillCount: () => undefined,\n  selectedSkillCount: {\n    required: 0,\n    optional: 0,\n  },\n  dispatch: () => '',\n  resetId: '',\n  resetSkills: () => undefined,\n});\n\nexport const initialState = {\n  selectedSkillCount: {\n    required: 0,\n    optional: 0,\n  },\n};\n\nexport function AppProvider({ children }: Props) {\n  const [resetId, setResetId] = React.useState('');\n  const [skillCount, setSkillCount] = React.useState({\n    required: 0,\n    optional: 0,\n  });\n\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  function addToSkillCount(skillCount: SkillCount): void {\n    return setSkillCount(prev => ({\n      required: prev.required + skillCount.required,\n      optional: prev.optional + skillCount.optional,\n    }));\n  }\n\n  function resetSkills() {\n    const action: Action = {\n      type: 'RESET_SKILLS',\n    };\n\n    dispatch(action);\n    setResetId(uuid());\n\n    return;\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        skillCount,\n        dispatch,\n        addToSkillCount,\n        selectedSkillCount: state.selectedSkillCount,\n        resetId,\n        resetSkills,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport default AppContext;\n","const defaultTheme = {\n  backgroundColor: 'transparent',\n  border: '2px solid white',\n  borderRadius: '4px',\n  primaryFont: `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`,\n  primaryFontColor: 'white',\n  treeBackgroundColor: '#282c34',\n  disabledTreeOpacity: 0.8,\n  headingFont: `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`,\n  headingFontColor: 'white',\n  headingFontSize: '24px',\n  headingHoverColor: '#35373b',\n  headingHoverColorTransition: 'background 0.3s ease-out',\n  tooltipBackgroundColor: 'white',\n  tooltipFontColor: '#16181c',\n  tooltipZIndex: 99999,\n  nodeBackgroundColor: '#282c34',\n  nodeBorderColor: 'white',\n  nodeAlternativeFontColor: 'white',\n  nodeAltenativeActiveFontColor: 'white',\n  nodeOverlayColor: 'white',\n  nodeAlternativeActiveBackgroundColor: `\n  linear-gradient(\n    to right,\n    #b9e562 0%,\n    #41e2bd 50%,\n    #c284d8 100%\n  )`,\n  nodeActiveBackgroundColor: `linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )`,\n  nodeHoverBorder: '4px solid',\n  nodeHoverBorderColor: `linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )`,\n  nodeIconWidth: '64px',\n  nodeMobileTextNodeHeight: '32px',\n  nodeMobileTextNodeWidth: '108px',\n  nodeMobileFontSize: '14px',\n  nodeDesktopTextNodeHeight: '28px',\n  nodeDesktopTextNodeWidth: '144px',\n  nodeDesktopFontSize: '16px',\n  edgeBorder: '1px solid white',\n};\n\nexport type SkillTheme = typeof defaultTheme;\n\nexport default defaultTheme;\n","import * as React from 'react';\nimport { SkillMap } from '../models';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\ninterface IFilterContext {\n  filtersMatches: Set<string> | null;\n  handleFilter: (query: string) => void;\n  addToSkillMap: (skillMap: SkillMap) => void;\n}\n\nconst FilterContext = React.createContext<IFilterContext>({\n  filtersMatches: null,\n  handleFilter: () => null,\n  addToSkillMap: () => null,\n});\n\nexport function FilterProvider(props: Props) {\n  const [skillMap, setSkillMap] = React.useState<SkillMap>({});\n  const [filtersMatches, setMatches] = React.useState<Set<string> | null>(null);\n  // keep the map, also keep track of the sorted keys. (if performance becomes a concern).\n\n  function handleFilter(query: string) {\n    if (query.trim() === '') {\n      return setMatches(null);\n    }\n\n    const sanitizedQuery = query.toLowerCase();\n    const skills = Object.keys(skillMap);\n    const filteredSkills = skills.filter(key => key.includes(sanitizedQuery));\n    const treeIds = new Set(filteredSkills.map(skill => skillMap[skill]));\n\n    return setMatches(treeIds);\n  }\n\n  function addToSkillMap(skillMap: SkillMap) {\n    return setSkillMap(prev => ({\n      ...prev,\n      ...skillMap,\n    }));\n  }\n\n  return (\n    <FilterContext.Provider\n      value={{\n        filtersMatches,\n        handleFilter,\n        addToSkillMap,\n      }}\n    >\n      {props.children}\n    </FilterContext.Provider>\n  );\n}\n\nexport default FilterContext;\n","import * as React from 'react';\nimport AppContext from '../context/AppContext';\nimport styled, { ThemeProvider } from 'styled-components';\nimport defaultTheme from '../theme/index';\nimport { DeepPartial } from '../models/utils';\nimport { SkillGroupData } from '../models';\nimport FilterContext from '../context/FilterContext';\n\ntype Props = {\n  children: (treeData: SkillGroupData) => React.ReactNode;\n} & DeepPartial<typeof defaultProps>;\n\nconst defaultProps = {\n  theme: defaultTheme,\n};\n\nfunction SkillTreeGroup({ theme, children }: Props) {\n  const { skillCount, selectedSkillCount, resetSkills } = React.useContext(\n    AppContext\n  );\n\n  const { handleFilter } = React.useContext(FilterContext);\n  const skillTreeTheme = React.useMemo(() => ({ ...defaultTheme, ...theme }), [\n    theme,\n  ]);\n\n  const treeData: SkillGroupData = {\n    skillCount,\n    selectedSkillCount,\n    resetSkills,\n    handleFilter,\n  };\n\n  return (\n    <ThemeProvider theme={skillTreeTheme}>\n      <StyleSkillTreeGroup>{children(treeData)}</StyleSkillTreeGroup>\n    </ThemeProvider>\n  );\n}\n\nSkillTreeGroup.defaultProps = defaultProps;\n\nexport default SkillTreeGroup;\n\nconst StyleSkillTreeGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  font-family: ${({ theme }) => theme.primaryFont};\n  color: ${({ theme }) => theme.primaryFontColor};\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  justify-content: center;\n  margin: 0 0 48px;\n  min-width: fit-content;\n`;\n","export const LOCKED_STATE = 'locked';\nexport const UNLOCKED_STATE = 'unlocked';\nexport const SELECTED_STATE = 'selected';\n","const img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='iso-8859-1'%3f%3e%3c!-- Generator: Adobe Illustrator 19.0.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Capa_1' fill='white' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 47.971 47.971' style='enable-background:new 0 0 47.971 47.971%3b' xml:space='preserve'%3e%3cg%3e %3cpath d='M28.228%2c23.986L47.092%2c5.122c1.172-1.171%2c1.172-3.071%2c0-4.242c-1.172-1.172-3.07-1.172-4.242%2c0L23.986%2c19.744L5.121%2c0.88 c-1.172-1.172-3.07-1.172-4.242%2c0c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242l18.865%2c18.864L0.879%2c42.85c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242 C1.465%2c47.677%2c2.233%2c47.97%2c3%2c47.97s1.535-0.293%2c2.121-0.879l18.865-18.864L42.85%2c47.091c0.586%2c0.586%2c1.354%2c0.879%2c2.121%2c0.879 s1.535-0.293%2c2.121-0.879c1.172-1.171%2c1.172-3.071%2c0-4.242L28.228%2c23.986z'/%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","import * as React from 'react';\nimport styled from 'styled-components';\n// @ts-ignore\nimport CloseIcon from '../../images/close.svg';\n\ntype Props = {\n  content: React.ReactNode;\n  title: string;\n  handleClose: () => void;\n};\n\nconst TooltipContent = React.memo(function({\n  content,\n  title,\n  handleClose,\n}: Props) {\n  return (\n    <React.Fragment>\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        <Title>{title}</Title>\n        <img\n          onClick={handleClose}\n          style={{\n            width: '16px',\n            margin: '21px 4px auto 0',\n            cursor: 'pointer',\n          }}\n          src={CloseIcon}\n          alt=\"icon\"\n        />\n      </div>\n      <ContentContainer>{content}</ContentContainer>\n    </React.Fragment>\n  );\n});\n\nexport default TooltipContent;\n\nconst Title = styled.h1`\n  margin: 8px 0;\n`;\n\nconst ContentContainer = styled.div`\n  margin: 8px 0;\n`;\n","import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nconst useMobile = () => {\n  const [width, setWidth] = useState(Infinity);\n\n  useEffect(() => {\n    function handler() {\n      setWidth(window.innerWidth);\n    }\n\n    setWidth(window.innerWidth);\n\n    const throttledHandler = throttle(handler, 500);\n\n    window.addEventListener('resize', throttledHandler);\n\n    return () => {\n      window.removeEventListener('resize', throttledHandler);\n    };\n  }, []);\n\n  return width < 1200;\n};\n\nexport default useMobile;\n","import React, { useContext, useRef } from 'react';\nimport TooltipContent from './TooltipContent';\nimport styled, { ThemeContext } from 'styled-components';\nimport Tippy from '@tippy.js/react';\nimport { Instance, Props as TProps } from 'tippy.js';\nimport { Tooltip } from '../../models';\nimport useMobile from '../../hooks/useMobile';\n\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/animations/shift-away.css';\nimport { SkillTheme } from 'theme';\n\ninterface Props {\n  children: React.ReactElement;\n  title: string;\n  tooltip: Tooltip;\n}\n\nfunction Tooltip(props: Props) {\n  const { children, tooltip, title } = props;\n  const { direction = 'top', content } = tooltip;\n  const { tooltipZIndex } = useContext<SkillTheme>(ThemeContext);\n  const tooltipRef = useRef<Instance<TProps> | null>(null);\n  const isMobile = useMobile();\n\n  const placement = React.useMemo(() => (isMobile ? 'top' : direction), [\n    isMobile,\n    direction,\n  ]);\n\n  function hideTooltip() {\n    if (!tooltipRef.current) return;\n\n    return tooltipRef.current.hide();\n  }\n\n  const memoizedContent = React.useMemo(() => {\n    return (\n      <TooltipContent\n        handleClose={hideTooltip}\n        content={content}\n        title={title}\n      />\n    );\n  }, [content, title]);\n\n  return (\n    <StyledTippy\n      interactive\n      placement={placement}\n      onCreate={tooltip => {\n        tooltipRef.current = tooltip;\n      }}\n      hideOnClick={false}\n      animation=\"shift-away\"\n      arrow={false}\n      appendTo={document.body}\n      touch=\"hold\"\n      zIndex={tooltipZIndex}\n      content={memoizedContent}\n    >\n      {children}\n    </StyledTippy>\n  );\n}\n\nexport default Tooltip;\n\nconst StyledTippy = styled(Tippy)`\n  background-color: ${({ theme }) => theme.treeBackgroundColor};\n  border: ${({ theme }) => theme.border};\n  border-image-source: ${({ theme }) => theme.nodeHoverBorderColor};\n  border-image-slice: 1;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  padding: 0 8px;\n  text-align: left;\n  width: 320px;\n\n  .tippy-backdrop {\n    background-color: ${({ theme }) => theme.treeBackgroundColor};\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface Props {\n  containerWidth: number;\n  src: string;\n  title: string;\n}\n\ninterface StyledIconProps {\n  containerWidth: number;\n}\n\nconst Icon = React.memo(function({ src, title, containerWidth }: Props) {\n  return (\n    <StyledIcon data-testid=\"icon-container\" containerWidth={containerWidth}>\n      <Image src={src} alt={title} />\n    </StyledIcon>\n  );\n});\n\nexport default Icon;\n\nconst StyledIcon = styled.div.attrs<StyledIconProps>(props => ({\n  style: {\n    height: `${props.containerWidth}px`,\n    width: `${props.containerWidth}px`,\n  },\n}))<StyledIconProps>`\n  display: flex;\n`;\n\nconst Image = styled.img`\n  pointer-events: none;\n  height: 75%;\n  margin: auto;\n  width: 75%;\n`;\n","// Since this function reads from the navigator, ensure that all invocation\n// take place inside of `useEffect`. This is to ensure that compatibility with gatsby,\n// or any application rendered server side, is not broken. This is because globals like\n// navigator and window aren't available on the server side, so these functions will need\n// to be invoked at runtime.\nfunction isIOSDevice() {\n  var iDevices = [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod',\n  ];\n\n  if (!navigator) false;\n\n  if (!!navigator.platform) {\n    while (iDevices.length) {\n      if (navigator.platform === iDevices.pop()) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nexport default isIOSDevice;\n","import * as React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { SELECTED_STATE, UNLOCKED_STATE, LOCKED_STATE } from '../constants';\nimport { Skill } from '../../models';\nimport Icon from './Icon';\nimport isIOSDevice from '../../helpers/isIOS';\nimport { SkillThemeType } from '../../';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillThemeType> = require('styled-components')\n  .css;\n\ninterface Props {\n  handleClick: VoidFunction;\n  id: string;\n  currentState: string;\n  skill: Skill;\n}\n\ninterface StyledNodeProps {\n  optional: boolean;\n  selected: boolean;\n  unlocked: boolean;\n  locked: boolean;\n  isIOS: boolean;\n  color: 'default' | 'alternative';\n}\n\ninterface TextProp {\n  selected: boolean;\n}\n\nconst Node = React.forwardRef(function Node(\n  props: Props,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const { handleClick, id, currentState, skill } = props;\n  const { color = 'default' } = skill;\n  const [isIOS, setIsIOS] = React.useState(false);\n\n  const memoizedHandleKeyDown = React.useCallback(\n    function handleKeyDown(e: React.KeyboardEvent<HTMLDivElement>) {\n      if (e.keyCode === 13) {\n        handleClick();\n      }\n    },\n    [handleClick]\n  );\n\n  React.useEffect(() => {\n    setIsIOS(isIOSDevice());\n  }, []);\n\n  return (\n    <StyledNode\n      onClick={handleClick}\n      onKeyDown={memoizedHandleKeyDown}\n      ref={ref}\n      tabIndex={0}\n      data-testid={id}\n      optional={skill.optional || false}\n      isIOS={isIOS}\n      selected={currentState === SELECTED_STATE}\n      unlocked={currentState === UNLOCKED_STATE}\n      locked={currentState === LOCKED_STATE}\n      color={color}\n    >\n      {'icon' in skill ? (\n        <IconNode>\n          <Icon title=\"node-icon\" src={skill.icon} containerWidth={64} />\n        </IconNode>\n      ) : (\n        <TextNode>\n          {color === 'default' ? (\n            <Text>{skill.title}</Text>\n          ) : (\n            <AlternativeText selected={currentState === SELECTED_STATE}>\n              {skill.title}\n            </AlternativeText>\n          )}\n        </TextNode>\n      )}\n    </StyledNode>\n  );\n});\n\nexport default Node;\n\nconst shadowburst = keyframes`\n  from {\n    box-shadow: 0 0 18px 0 rgba(255, 255, 255, 1);\n  }\n\n  20% {\n    box-shadow: 0 0 24px 0 rgba(255, 255, 255, 1);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  }\n`;\n\nconst shadowpulse = keyframes`\n  from,\n  20% {\n    box-shadow: 0 0 8px 0 rgba(255, 255, 255, 0.5);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0.5);\n  }\n`;\n\nconst StyledNode = styled.div<StyledNodeProps>`\n  background: ${({ theme }) => theme.nodeBackgroundColor};\n  border: 2px solid;\n  border-color: ${({ theme }) => theme.nodeBorderColor};\n  box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  border-radius: ${({ theme }) => theme.borderRadius};\n  cursor: pointer;\n  display: flex;\n  margin: 0 3px;\n  outline: none;\n  position: relative;\n  transition: box-shadow 0.6s, opacity 1s;\n  user-select: none;\n\n  @media (min-width: 410px) {\n    margin: 0 8px;\n  }\n\n  @media (min-width: 900px) {\n    margin: 0 16px;\n    outline: initial;\n    outline-color: white;\n  }\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${shadowburst} 1s 1;\n      background: ${({ theme }) =>\n        props.color === 'default'\n          ? theme.nodeActiveBackgroundColor\n          : theme.nodeAlternativeActiveBackgroundColor};\n    `}\n\n  ${props =>\n    props.unlocked &&\n    css`\n      animation: ${shadowpulse} 1s infinite alternate;\n      box-shadow: 0 0 6px 0 rgba(255, 255, 255, 0.5);\n\n      &:after,\n      &:before {\n        border: 0 solid;\n        border-image-source: ${({ theme }) => theme.nodeHoverBorderColor};\n        border-image-slice: 1;\n        content: ' ';\n        opacity: 0;\n        height: 0;\n        transition: opacity 0.6s, width 0.6s, height 0.6s;\n        position: absolute;\n        width: 0;\n      }\n\n      &:after {\n        border-top: ${({ theme }) => theme.nodeHoverBorder};\n        border-left: ${({ theme }) => theme.nodeHoverBorder};\n        top: 0;\n        left: 0;\n      }\n\n      &:before {\n        bottom: 0px;\n        right: 0px;\n        border-bottom: ${({ theme }) => theme.nodeHoverBorder};\n        border-right: ${({ theme }) => theme.nodeHoverBorder};\n      }\n\n      &:hover,\n      &:focus {\n        animation: none;\n        box-shadow: 0 0 12px 0 rgba(255, 255, 255, 1);\n\n        &:after,\n        &:before {\n          opacity: 1;\n          height: 85%;\n          transition: width 0.6s, height 0.6s;\n          width: ${(props: StyledNodeProps) => (props.isIOS ? 0 : '95%')};\n        }\n      }\n    `}\n\n    ${props =>\n      props.unlocked &&\n      props.optional &&\n      css`\n        background: ${({ theme }) => theme.nodeBackgroundColor};\n      `}\n\n  ${props =>\n    props.locked &&\n    `\n        cursor: initial;\n        opacity: 0.65;\n    `}\n`;\n\nconst IconNode = styled.div`\n  width: ${({ theme }) => theme.nodeIconNodeWidth};\n`;\n\nconst TextNode = styled.div`\n  align-items: center;\n  display: flex;\n  font-weight: 600;\n  justify-content: center;\n  height: ${({ theme }) => theme.nodeMobileTextNodeHeight};\n  width: ${({ theme }) => theme.nodeMobileTextNodeWidth};\n\n  @media (min-width: 900px) {\n    height: ${({ theme }) => theme.nodeDesktopTextNodeHeight};\n    width: ${({ theme }) => theme.nodeDesktopTextNodeWidth};\n  }\n`;\n\nconst Text = styled.p`\n  font-size: ${({ theme }) => theme.nodeMobileFontSize};\n  text-overflow: ellipsis;\n  margin: 0;\n  overflow: hidden;\n  padding: 0 8px;\n  white-space: nowrap;\n\n  @media (min-width: 900px) {\n    font-size: ${({ theme }) => theme.nodeDesktopFontSize};\n  }\n`;\n\nconst AlternativeText = styled(Text)<TextProp>`\n  color: ${({ theme }) => theme.nodeAlternativeFontColor};\n\n  ${props =>\n    props.selected &&\n    css`\n      color: ${({ theme }) => theme.nodeAltenativeActiveFontColor};\n    `};\n`;\n","import * as React from 'react';\nimport { throttle } from 'lodash';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { LOCKED_STATE, UNLOCKED_STATE, SELECTED_STATE } from './constants';\nimport SkillTreeSegment from './SkillTreeSegment';\nimport Tooltip from './tooltip/Tooltip';\nimport { Skill, NodeState } from '../models';\nimport Node from './ui/Node';\nimport { SkillThemeType } from '../';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillThemeType> = require('styled-components')\n  .css;\n\ninterface Props {\n  skill: Skill;\n  nodeState: NodeState;\n  incSkillCount: (optional?: boolean) => void;\n  decSkillCount: (optional?: boolean) => void;\n  handleNodeSelect?: (key: string, state: NodeState) => void;\n  updateSkillState: (\n    key: string,\n    updatedState: NodeState,\n    optional?: boolean\n  ) => void;\n}\n\ninterface SkillNodeOverlayProps {\n  childWidth: number;\n  selected: boolean;\n}\n\nfunction SkillNode({\n  skill,\n  nodeState,\n  incSkillCount,\n  decSkillCount,\n  updateSkillState,\n  handleNodeSelect = () => null,\n}: Props) {\n  const { children, title, tooltip, id, optional } = skill;\n  const [parentPosition, setParentPosition] = React.useState(0);\n\n  const skillNodeRef: React.RefObject<HTMLDivElement> = React.useRef(null);\n  const childWidth: React.MutableRefObject<number> = React.useRef(0);\n\n  function calculatePosition() {\n    const { left, right } = skillNodeRef.current!.getBoundingClientRect();\n\n    const scrollX = window.scrollX;\n\n    setParentPosition((right - left) / 2 + left + scrollX);\n  }\n\n  function calculateOverlayWidth() {\n    childWidth.current = skillNodeRef.current!.clientWidth;\n  }\n\n  function handleResize() {\n    calculatePosition();\n    calculateOverlayWidth();\n  }\n\n  function handleClick() {\n    if (nodeState === LOCKED_STATE) {\n      return null;\n    }\n\n    if (nodeState === UNLOCKED_STATE) {\n      incSkillCount(optional);\n      handleNodeSelect(id, SELECTED_STATE);\n      return updateSkillState(id, SELECTED_STATE, optional);\n    }\n\n    handleNodeSelect(id, UNLOCKED_STATE);\n    decSkillCount(optional);\n    return updateSkillState(id, UNLOCKED_STATE, optional);\n  }\n\n  React.useEffect(() => {\n    const throttledHandleResize = throttle(handleResize, 200);\n\n    calculatePosition();\n    calculateOverlayWidth();\n\n    window.addEventListener('resize', throttledHandleResize);\n\n    return function cleanup() {\n      window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n\n  const hasMultipleChildren = children.length > 1;\n\n  return (\n    <React.Fragment>\n      <StyledSkillNode>\n        <SkillNodeOverlay\n          selected={nodeState === SELECTED_STATE}\n          childWidth={childWidth.current}\n          data-testid=\"skill-node-overlay\"\n        />\n        <Tooltip title={title} tooltip={tooltip}>\n          <Node\n            handleClick={handleClick}\n            id={id}\n            currentState={nodeState}\n            skill={skill}\n            ref={skillNodeRef}\n          />\n        </Tooltip>\n      </StyledSkillNode>\n\n      {children.length > 0 && (\n        <SkillTreeSegmentWrapper>\n          {children.map(child => {\n            return (\n              <SkillTreeSegment\n                key={child.id}\n                hasParent\n                parentPosition={parentPosition}\n                parentHasMultipleChildren={hasMultipleChildren}\n                shouldBeUnlocked={\n                  (optional && nodeState === UNLOCKED_STATE) ||\n                  nodeState === SELECTED_STATE\n                }\n                skill={child}\n              />\n            );\n          })}\n        </SkillTreeSegmentWrapper>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default React.memo(SkillNode);\n\nconst fadeout = keyframes`\n  from,\n  30% {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n`;\n\nconst StyledSkillNode = styled.div`\n  margin: 0 auto;\n  position: relative;\n  width: fit-content;\n`;\n\nconst SkillNodeOverlay = styled.span<SkillNodeOverlayProps>`\n  background-color: ${({ theme }) => theme.nodeOverlayColor};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  height: 100%;\n  left: 3px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  width: ${props => props.childWidth + 4}px;\n  z-index: 10;\n\n  @media (min-width: 410px) {\n    left: 8px;\n  }\n\n  @media (min-width: 900px) {\n    left: 16px;\n  }\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${fadeout} 3.5s 1;\n    `}\n`;\n\nconst SkillTreeSegmentWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  position: relative;\n`;\n","import React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { NodeState } from '../../models';\nimport { SELECTED_STATE, LOCKED_STATE } from '../../components/constants';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface LineProps {\n  state: NodeState;\n}\n\ninterface StyledLineProps {\n  selected: boolean;\n  unlocked: boolean;\n}\n\nfunction Line({ state }: LineProps) {\n  return (\n    <LineContainer>\n      <StyledLine\n        data-testid=\"straight-line\"\n        selected={state === SELECTED_STATE}\n        unlocked={state !== LOCKED_STATE}\n      />\n    </LineContainer>\n  );\n}\n\nexport default Line;\n\nconst LineContainer = styled.div`\n  height: 56px;\n  left: 4px;\n  margin: 0 auto;\n  position: relative;\n  width: 4px;\n`;\n\nconst slidedown = keyframes`\n  from,\n  50% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n\nconst StyledLine = styled.div<StyledLineProps>`\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ${({ theme }) => theme.edgeBorder};\n  height: 4px;\n  opacity: 0.5;\n  transform: rotate(90deg);\n  transform-origin: 0 0;\n  transition: opacity 0.6s;\n  width: 56px;\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${slidedown} 1.2s 1 ease-out;\n      background-position: left bottom;\n    `}\n\n  ${props =>\n    props.unlocked &&\n    `\n      opacity: 1;\n    `}\n`;\n","import styled from 'styled-components';\nimport { Direction } from '../../models';\n\nexport interface AngledLineProps {\n  unlocked: boolean;\n  selected: boolean;\n}\n\nexport interface AngledLineVerticalProps {\n  direction: Direction;\n}\n\nexport interface AngledLineHoriztonalProps {\n  direction: Direction;\n  width: number;\n}\n\nexport const StyledAngledLine = styled.div<AngledLineProps>`\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ${({ theme }) => theme.edgeBorder};\n  height: 4px;\n  position: absolute;\n  opacity: 0.5;\n  transition: opacity 0.6s;\n\n  ${props =>\n    props.unlocked &&\n    `\n      opacity: 1;\n  `}\n`;\n","import React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { NodeState, Direction } from '../../models';\nimport { SELECTED_STATE, LOCKED_STATE } from '../../components/constants';\nimport { StyledAngledLine, AngledLineVerticalProps } from './AngledLine';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  direction: Direction;\n  state: NodeState;\n}\n\nfunction UpperAngledLine(props: Props) {\n  const { direction, state } = props;\n\n  return (\n    <AngledLineVerticalTop\n      data-testid=\"upper-angled-line\"\n      direction={direction}\n      selected={state === SELECTED_STATE}\n      unlocked={state !== LOCKED_STATE}\n    />\n  );\n}\n\nexport default UpperAngledLine;\n\nconst AngledLineVerticalTop = styled(StyledAngledLine)<AngledLineVerticalProps>`\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: -1px;\n  width: 29px;\n\n  ${props =>\n    props.direction === 'right' &&\n    `\n      border-bottom-right-radius: 8px;\n    `}\n\n  ${props =>\n    props.direction === 'left' &&\n    `\n      border-top-right-radius: 8px;\n    `}\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${slideDownAngledLineTop} 0.3s 1 ease-in;\n      background-position: left bottom;\n    `}\n`;\n\nconst slideDownAngledLineTop = keyframes`\n  from,\n  33% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n","import React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { NodeState, Direction } from '../../models';\nimport { SELECTED_STATE, LOCKED_STATE } from '../../components/constants';\nimport { StyledAngledLine, AngledLineHoriztonalProps } from './AngledLine';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  parentPosition: number;\n  childPosition: number;\n  direction: Direction;\n  state: NodeState;\n}\n\nfunction MiddleAngledLine(props: Props) {\n  const { direction, parentPosition, childPosition, state } = props;\n\n  const width =\n    direction === 'left'\n      ? parentPosition - childPosition - 6\n      : childPosition - parentPosition - 6;\n\n  return (\n    <AngledLineHoriztonal\n      data-testid=\"middle-angled-line\"\n      direction={direction}\n      unlocked={state !== LOCKED_STATE}\n      selected={state === SELECTED_STATE}\n      width={width}\n    />\n  );\n}\n\nexport default MiddleAngledLine;\n\nconst AngledLineHoriztonal = styled(StyledAngledLine)<\n  AngledLineHoriztonalProps\n>`\n  border-left: none;\n  border-right: none;\n  top: 24px;\n  left: 50%;\n  width: ${props => props.width}px;\n  transform: translateX(3px) scale(-1);\n\n  ${props =>\n    props.direction === 'right' &&\n    `\n      transform: translateX(-3px) scale(-1);\n      transform-origin: 0;\n  `}\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${slideDownAngledLineMiddle} 1s 1;\n      background-position: left bottom;\n    `}\n`;\n\nconst slideDownAngledLineMiddle = keyframes`\n  from,\n  30% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n","import React from 'react';\nimport { NodeState, Direction } from '../../models';\nimport { LOCKED_STATE, SELECTED_STATE } from '../../components/constants';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { StyledAngledLine, AngledLineVerticalProps } from './AngledLine';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  direction: Direction;\n  state: NodeState;\n}\n\nfunction LowerAngledLine(props: Props) {\n  const { state, direction } = props;\n\n  return (\n    <AngledLineVerticalBottom\n      unlocked={state !== LOCKED_STATE}\n      direction={direction}\n      data-testid=\"lower-angled-line\"\n      selected={state === SELECTED_STATE}\n    />\n  );\n}\n\nexport default LowerAngledLine;\n\nconst AngledLineVerticalBottom = styled(StyledAngledLine)<\n  AngledLineVerticalProps\n>`\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: 24px;\n  width: 31px;\n\n  ${props =>\n    props.direction === 'right' &&\n    `\n        border-top-left-radius: 8px;\n      `}\n\n  ${props =>\n    props.direction === 'left' &&\n    `\n      border-bottom-left-radius: 8px;\n    `}\n\n    ${props =>\n      props.selected &&\n      css`\n        animation: ${slideDownAngledLineBottom} 1.2s 1 ease-out;\n        background-position: left bottom;\n      `}\n`;\n\nconst slideDownAngledLineBottom = keyframes`\n  from,\n  70% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\nimport { NodeState } from '../models';\nimport Line from './ui/Line';\nimport UpperAngledLine from './ui/UpperAngledLine';\nimport MiddleAngledLine from './ui/MiddleAngledLine';\nimport LowerAngledLine from './ui/LowerAngledLine';\nimport { Nullable } from 'models/utils';\n\nexport interface Props {\n  parentHasMultipleChildren: boolean;\n  childNodeRef: React.MutableRefObject<Nullable<HTMLDivElement>>;\n  state: NodeState;\n  parentPosition: number;\n}\n\nfunction SkillEdge(props: Props) {\n  const {\n    parentHasMultipleChildren,\n    state,\n    childNodeRef,\n    parentPosition,\n  } = props;\n\n  if (!parentHasMultipleChildren) return <Line state={state} />;\n\n  const [childPosition, setChildPosition] = useState(0);\n  const direction = parentPosition < childPosition ? 'right' : 'left';\n\n  function calculatePosition() {\n    const { left, width } = childNodeRef.current!.getBoundingClientRect();\n\n    const scrollX = window.scrollX;\n\n    setChildPosition(left + width / 2 + scrollX);\n  }\n\n  useEffect(() => {\n    const throttledHandleResize = throttle(calculatePosition, 200);\n\n    window.addEventListener('resize', throttledHandleResize);\n    calculatePosition();\n\n    return function cleanup() {\n      window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n\n  return (\n    <div style={{ height: '56px' }}>\n      <UpperAngledLine state={state} direction={direction} />\n      <div style={{ position: 'relative' }}>\n        <MiddleAngledLine\n          parentPosition={parentPosition}\n          childPosition={childPosition}\n          state={state}\n          direction={direction}\n        />\n        <LowerAngledLine direction={direction} state={state} />\n      </div>\n    </div>\n  );\n}\n\nexport default SkillEdge;\n","import * as React from 'react';\nimport { mapValues } from 'lodash';\nimport {\n  NodeState,\n  ContextStorage,\n  Action,\n  SavedDataType,\n  SkillData,\n  NodeSelectEvent,\n} from '../models';\nimport AppContext, { IAppContext } from './AppContext';\nimport { SELECTED_STATE, LOCKED_STATE } from '../components/constants';\n\ntype Props = typeof SkillTreeProvider.defaultProps & {\n  treeId: string;\n  savedData?: SavedDataType;\n  storage?: ContextStorage;\n};\n\ntype DefaultProps = {\n  handleSave: (\n    storage: ContextStorage,\n    id: string,\n    skills: SavedDataType\n  ) => void;\n  sendNodeSelectDataToClient: (e: NodeSelectEvent) => void;\n};\n\ninterface State {\n  skills: SavedDataType;\n  skillCount: number;\n  selectedCount: number;\n  resetId: string;\n  mounting: boolean;\n}\n\nexport interface ISkillContext {\n  mounting: boolean;\n  skills: SavedDataType;\n  skillCount: number;\n  selectedCount: number;\n  updateSkillState: (\n    key: string,\n    updatedState: NodeState,\n    optional?: boolean\n  ) => void;\n  setSkillCount: (skillCount: number) => void;\n  handleNodeSelect: (key: string, state: NodeState) => void;\n  incrementSelectedCount: VoidFunction;\n  decrementSelectedCount: VoidFunction;\n}\n\nconst SkillContext = React.createContext<ISkillContext>({\n  mounting: true,\n  skills: {},\n  skillCount: 0,\n  selectedCount: 0,\n  updateSkillState: () => undefined,\n  setSkillCount: () => undefined,\n  handleNodeSelect: () => undefined,\n  incrementSelectedCount: () => undefined,\n  decrementSelectedCount: () => undefined,\n});\n\nexport class SkillTreeProvider extends React.Component<Props, State> {\n  static contextType = AppContext;\n  static defaultProps: DefaultProps = {\n    handleSave(storage, treeId, skills) {\n      return storage.setItem(`skills-${treeId}`, JSON.stringify(skills));\n    },\n    sendNodeSelectDataToClient() {\n      return null;\n    },\n  };\n\n  storage: ContextStorage | null = null;\n\n  constructor(props: Props, context: IAppContext) {\n    super(props, context);\n\n    this.state = {\n      skills: {},\n      skillCount: 0,\n      selectedCount: 0,\n      resetId: context.resetId,\n      mounting: true,\n    };\n  }\n\n  componentDidMount() {\n    const { storage } = this.props;\n    const { context } = this;\n\n    if (storage) {\n      this.storage = storage;\n    } else {\n      this.storage = localStorage;\n    }\n\n    const treeSkills = this.getTreeSkills();\n    let selectedCount = 0;\n\n    Object.keys(treeSkills).map(key => {\n      if (treeSkills[key].nodeState === SELECTED_STATE) {\n        selectedCount++;\n        const action: Action = {\n          type: treeSkills[key].optional\n            ? 'SELECT_OPTIONAL_SKILL'\n            : 'SELECT_REQUIRED_SKILL',\n        };\n\n        context.dispatch(action);\n      }\n    });\n\n    this.setState({\n      skills: treeSkills,\n      selectedCount,\n      mounting: false,\n    });\n\n    return null;\n  }\n\n  getTreeSkills = (): SavedDataType => {\n    if (this.props.savedData) {\n      return this.props.savedData;\n    }\n\n    const { treeId } = this.props;\n\n    const storedItems = this.storage!.getItem(`skills-${treeId}`);\n\n    if (storedItems === 'undefined' || storedItems === null) {\n      return {};\n    }\n\n    return JSON.parse(storedItems);\n  };\n\n  componentDidUpdate() {\n    if (this.context.resetId !== this.state.resetId) {\n      this.resetSkills();\n    }\n  }\n\n  incrementSelectedCount = (optional: boolean = false) => {\n    const action: Action = {\n      type: optional ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL',\n    };\n\n    this.setState(prevState => {\n      const { selectedCount } = prevState;\n      return { selectedCount: selectedCount + 1 };\n    });\n\n    this.context.dispatch(action);\n  };\n\n  decrementSelectedCount = (optional: boolean = false) => {\n    const action: Action = {\n      type: optional ? 'DESELECT_OPTIONAL_SKILL' : 'DESELECT_REQUIRED_SKILL',\n    };\n\n    this.setState(prevState => {\n      const { selectedCount } = prevState;\n      return { selectedCount: selectedCount - 1 };\n    });\n\n    this.context.dispatch(action);\n  };\n\n  resetSkills = () => {\n    return this.setState(prevState => {\n      const { skills } = prevState;\n\n      const resettedSkills: SavedDataType = mapValues(\n        skills,\n        (skill: SkillData) => ({\n          optional: skill.optional,\n          nodeState: LOCKED_STATE,\n        })\n      );\n\n      return {\n        skills: resettedSkills,\n        resetId: this.context.resetId,\n      };\n    });\n  };\n\n  setSkillCount = (skillCount: number) => {\n    return this.setState({\n      skillCount,\n    });\n  };\n\n  handleNodeSelect = (key: string, state: NodeState) => {\n    return this.props.sendNodeSelectDataToClient({ key, state });\n  };\n\n  updateSkillState = (\n    key: string,\n    updatedState: NodeState,\n    optional: boolean = false\n  ) => {\n    const { handleSave, treeId } = this.props;\n\n    return this.setState(prevState => {\n      const updatedSkills = {\n        ...prevState.skills,\n        [key]: {\n          optional,\n          nodeState: updatedState,\n        },\n      };\n\n      handleSave(this.storage!, treeId, updatedSkills);\n\n      return {\n        skills: updatedSkills,\n      };\n    });\n  };\n\n  render() {\n    return (\n      <SkillContext.Provider\n        value={{\n          mounting: this.state.mounting,\n          skills: this.state.skills,\n          skillCount: this.state.skillCount,\n          selectedCount: this.state.selectedCount,\n          updateSkillState: this.updateSkillState,\n          setSkillCount: this.setSkillCount,\n          handleNodeSelect: this.handleNodeSelect,\n          incrementSelectedCount: this.incrementSelectedCount,\n          decrementSelectedCount: this.decrementSelectedCount,\n        }}\n      >\n        {this.props.children}\n      </SkillContext.Provider>\n    );\n  }\n}\n\nexport default SkillContext;\n","import React, { useRef, useEffect, useContext, useCallback } from 'react';\nimport { isEmpty } from 'lodash';\nimport SkillNode from './SkillNode';\nimport SkillEdge from './SkillEdge';\nimport { Skill } from '../models';\nimport { Nullable } from '../models/utils';\nimport SkillContext from '../context/SkillContext';\nimport { SELECTED_STATE, LOCKED_STATE, UNLOCKED_STATE } from './constants';\n\ntype Props = {\n  skill: Skill;\n  parentPosition: number;\n  parentHasMultipleChildren: boolean;\n  shouldBeUnlocked: boolean;\n} & typeof SkillTreeSegment.defaultProps;\n\nfunction SkillTreeSegment({\n  skill,\n  hasParent,\n  parentHasMultipleChildren,\n  parentPosition,\n  shouldBeUnlocked,\n}: Props) {\n  const {\n    mounting,\n    skills,\n    updateSkillState,\n    decrementSelectedCount,\n    incrementSelectedCount,\n    handleNodeSelect,\n  } = useContext(SkillContext);\n\n  const skillNodeRef: React.MutableRefObject<Nullable<HTMLDivElement>> = useRef(\n    null\n  );\n\n  const nodeState = skills[skill.id] ? skills[skill.id].nodeState : 'locked';\n\n  useEffect(() => {\n    if (mounting) return;\n\n    if (nodeState === SELECTED_STATE && !shouldBeUnlocked) {\n      decrementSelectedCount();\n      return updateSkillState(skill.id, LOCKED_STATE, skill.optional);\n    }\n\n    if (nodeState === UNLOCKED_STATE && !shouldBeUnlocked) {\n      return updateSkillState(skill.id, LOCKED_STATE, skill.optional);\n    }\n\n    if (!shouldBeUnlocked) {\n      return;\n    }\n\n    if (nodeState === LOCKED_STATE && shouldBeUnlocked) {\n      return updateSkillState(skill.id, UNLOCKED_STATE, skill.optional);\n    }\n  }, [nodeState, shouldBeUnlocked, mounting]);\n\n  useEffect(() => {\n    if (mounting) return;\n\n    if (isEmpty(skills)) {\n      return updateSkillState(skill.id, UNLOCKED_STATE);\n    }\n\n    return;\n  }, [mounting]);\n\n  return (\n    <div\n      style={{\n        margin: !hasParent ? '16px 0' : '',\n      }}\n    >\n      {hasParent && (\n        <SkillEdge\n          parentHasMultipleChildren={parentHasMultipleChildren}\n          state={nodeState}\n          childNodeRef={skillNodeRef}\n          parentPosition={parentPosition}\n        />\n      )}\n      <div ref={skillNodeRef}>\n        <SkillNode\n          incSkillCount={useCallback(incrementSelectedCount, [])}\n          decSkillCount={useCallback(decrementSelectedCount, [])}\n          updateSkillState={updateSkillState}\n          skill={skill}\n          nodeState={nodeState}\n          handleNodeSelect={handleNodeSelect}\n        />\n      </div>\n    </div>\n  );\n}\n\nSkillTreeSegment.defaultProps = {\n  hasParent: true,\n};\n\nexport default SkillTreeSegment;\n","import * as React from 'react';\n\ninterface Props {\n  display: boolean;\n}\n\nfunction HSeparator({ display }: Props) {\n  return (\n    <div style={{ height: '2px' }}>\n      {display && <hr style={{ margin: 0 }} data-testid=\"h-separator\" />}\n    </div>\n  );\n}\n\nexport default HSeparator;\n","import React, { useEffect, useState } from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { SkillTheme } from 'theme';\n\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface VisibilityContainerProps {\n  isVisible: boolean;\n}\n\ninterface Props {\n  isVisible: boolean;\n  children: React.ReactNode;\n}\n\nfunction VisibilityContainer(props: Props) {\n  const { isVisible, children } = props;\n  const [hasBeenVisible, setHasBeenVisibleState] = useState(isVisible);\n\n  useEffect(() => {\n    if (isVisible) {\n      setHasBeenVisibleState(true);\n    }\n  }, [isVisible, setHasBeenVisibleState]);\n\n  if (!hasBeenVisible) return null;\n\n  return (\n    <StyledVisibilityContainer\n      data-testid=\"visibility-container\"\n      isVisible={isVisible}\n    >\n      {children}\n    </StyledVisibilityContainer>\n  );\n}\n\nexport default VisibilityContainer;\n\nconst StyledVisibilityContainer = styled.div<VisibilityContainerProps>`\n  transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n    max-height 0.15s ease-out, visibility 0.15s ease-out;\n  height: auto;\n  max-height: 10000px;\n  min-width: 304px;\n  opacity: 1;\n  overflow: hidden;\n  visibility: visible;\n  transform: scaleY(1);\n  transform-origin: top;\n\n  ${({ isVisible }) =>\n    !isVisible &&\n    css`\n      transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n        max-height 0.15s ease-out, visibility 0.15s 0.15s ease-out;\n      transform: scaleY(0);\n      visibility: hidden;\n      max-height: 0;\n      width: 304px;\n      opacity: 0;\n    `}\n`;\n","import { useContext, useEffect } from 'react';\nimport { Skill, SkillCount } from '../models';\nimport AppContext from '../context/AppContext';\nimport SkillContext from '../context/SkillContext';\n\ninterface Props {\n  data: Skill[];\n}\n\nfunction calculateNodeCount(data: Skill[]): SkillCount {\n  return data.reduce(\n    (prev, curr) => {\n      const nodeType = curr.optional ? 'optional' : 'required';\n\n      if (curr.children.length > 0) {\n        const incOptional = nodeType === 'optional' ? 1 : 0;\n        const incRequired = nodeType === 'required' ? 1 : 0;\n        const childNodeCount = calculateNodeCount(curr.children);\n\n        return {\n          optional: prev.optional + childNodeCount.optional + incOptional,\n          required: prev.required + childNodeCount.required + incRequired,\n        };\n      }\n\n      return {\n        ...prev,\n        [nodeType]: prev[nodeType] + 1,\n      };\n    },\n    {\n      required: 0,\n      optional: 0,\n    }\n  );\n}\n\nfunction CalculateNodeCount({ data }: Props) {\n  const { addToSkillCount } = useContext(AppContext);\n  const { setSkillCount } = useContext(SkillContext);\n\n  useEffect(() => {\n    const count = calculateNodeCount(data);\n    const { required, optional } = count;\n    setSkillCount(required + optional);\n    addToSkillCount(count);\n  }, []);\n\n  return null;\n}\n\nexport default CalculateNodeCount;\n","import React, { useContext } from 'react';\nimport SkillContext from '../context/SkillContext';\nimport styled from 'styled-components';\n\nfunction SkillCountSubtitle() {\n  const { skillCount, selectedCount } = useContext(SkillContext);\n  const percentageCompleted = Math.ceil((selectedCount / skillCount) * 100);\n\n  return (\n    <StyledSkillCountSubtitle>\n      {skillCount} skills | {percentageCompleted}%\n    </StyledSkillCountSubtitle>\n  );\n}\n\nconst StyledSkillCountSubtitle = styled.p`\n  font-family: ${({ theme }) => theme.headingFont};\n  margin-top: 0;\n  text-align: center;\n`;\n\nexport default SkillCountSubtitle;\n","import React, { useCallback, useContext } from 'react';\nimport styled, { BaseThemedCssFunction, ThemeContext } from 'styled-components';\nimport SkillCountSubtitle from './SkillCountSubtitle';\nimport { SkillTheme } from '../theme';\nimport Tippy from '@tippy.js/react';\n\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  handleClick: () => void;\n  collapsible: boolean;\n  isVisible: boolean;\n  id: string;\n  title: React.ReactNode | string;\n  description?: string;\n  disabled: boolean;\n}\n\ninterface HeaderCaretProps {\n  isCollapsible: boolean;\n  isVisible: boolean;\n}\n\ninterface CollapsibleContainerProps {\n  isCollapsible: boolean;\n  isDisabled: boolean;\n}\n\nfunction SkillTreeHeader(props: Props) {\n  const {\n    handleClick,\n    collapsible,\n    isVisible,\n    id,\n    title,\n    description,\n    disabled,\n  } = props;\n  const { tooltipZIndex } = useContext<SkillTheme>(ThemeContext);\n\n  const memoizedHandleKeyDown = useCallback(\n    function handleKeyDown(e: React.KeyboardEvent<HTMLDivElement>) {\n      if (e.keyCode === 13) {\n        handleClick();\n      }\n    },\n    [handleClick]\n  );\n\n  return (\n    <StyledTippy\n      zIndex={tooltipZIndex}\n      enabled={Boolean(description)}\n      content={description || ''}\n    >\n      <StyledSkillTreeHeader\n        tabIndex={0}\n        onKeyDown={memoizedHandleKeyDown}\n        onPointerDown={handleClick}\n        isCollapsible={collapsible}\n        isDisabled={disabled}\n      >\n        <div style={{ position: 'relative' }}>\n          <HeaderCaret isCollapsible={collapsible} isVisible={isVisible}>\n            ▲\n          </HeaderCaret>\n          <SkillTreeTitle id={id}>{title}</SkillTreeTitle>\n        </div>\n        <SkillCountSubtitle />\n      </StyledSkillTreeHeader>\n    </StyledTippy>\n  );\n}\n\nexport default SkillTreeHeader;\n\nconst StyledSkillTreeHeader = styled.div<CollapsibleContainerProps>`\n  ${({ isDisabled }) =>\n    isDisabled &&\n    css`\n      opacity: ${({ theme }) => theme.disabledTreeOpacity};\n    `}\n  ${({ isCollapsible }) =>\n    isCollapsible &&\n    css`\n      background: ${({ theme }) => theme.treeBackgroundColor};\n      border: ${({ theme }) => theme.border};\n      border-radius: ${({ theme }) => theme.borderRadius};\n      cursor: pointer;\n      min-width: 300px;\n      transition: ${({ theme }) => theme.headingHoverColorTransition};\n      user-select: none;\n\n      &:hover {\n        background: ${({ theme }) => theme.headingHoverColor};\n      }\n    `}\n`;\n\nconst HeaderCaret = styled.span<HeaderCaretProps>`\n  color: ${({ theme }) => theme.headingFontColor};\n  display: ${({ isCollapsible }) => (isCollapsible ? 'inline' : 'none')};\n  font-family: ${({ theme }) => theme.headingFont};\n  font-size: ${({ theme }) => theme.headingFontSize};\n  left: 8px;\n  position: absolute;\n  transform: rotate(90deg);\n  transition: 0.15s transform ease-out;\n\n  ${({ isVisible }) =>\n    isVisible &&\n    css`\n      transform: rotate(180deg);\n    `}\n`;\n\nconst StyledTippy = styled(Tippy)`\n  background: ${({ theme }) => theme.tooltipBackgroundColor};\n  color: ${({ theme }) => theme.tooltipFontColor};\n\n  &[data-placement^='top'] {\n    .tippy-arrow {\n      border-top-color: ${({ theme }) => theme.tooltipBackgroundColor};\n    }\n  }\n`;\n\nconst SkillTreeTitle = styled.h2`\n  font-family: ${({ theme }) => theme.headingFont};\n  margin-bottom: 0;\n  min-width: 152px;\n  text-align: center;\n`;\n","import { useContext, useEffect } from 'react';\nimport { Skill, SkillMap } from '../../models';\nimport FilterContext from '../../context/FilterContext';\n\ninterface Props {\n  treeId: string;\n  skills: Skill[];\n}\n\nfunction createSkillsTreeMap(treeId: string, skills: Skill[]) {\n  const skillsTreeMap: SkillMap = {};\n\n  function addSkillToMap(currentSkill: Skill[]) {\n    currentSkill.forEach(skill => {\n      if (skill.children.length > 0) {\n        addSkillToMap(skill.children);\n      }\n\n      skillsTreeMap[skill.title.toLowerCase()] = treeId;\n    });\n  }\n\n  addSkillToMap(skills);\n\n  return skillsTreeMap;\n}\n\nfunction AddToFilterIndex(props: Props) {\n  const { skills, treeId } = props;\n  const { addToSkillMap } = useContext(FilterContext);\n\n  useEffect(() => {\n    const skillsTreeMap = createSkillsTreeMap(treeId, skills);\n    addToSkillMap(skillsTreeMap);\n  }, []);\n\n  return null;\n}\n\nexport default AddToFilterIndex;\n","import { useEffect, useContext, useState } from 'react';\nimport FilterContext from '../../context/FilterContext';\n\ninterface Props {\n  setVisibility: (isVisible: boolean) => void;\n  isVisible: boolean;\n  treeId: string;\n  disabled: boolean;\n}\n\nfunction FilterListener({ setVisibility, isVisible, treeId, disabled }: Props) {\n  const { filtersMatches } = useContext(FilterContext);\n  const [hasLoaded, setLoadingState] = useState(false);\n\n  useEffect(() => {\n    if (!hasLoaded) {\n      return setLoadingState(true);\n    }\n\n    if (disabled) {\n      return setVisibility(false);\n    }\n\n    if (!filtersMatches) {\n      if (isVisible === true) return;\n\n      return setVisibility(true);\n    }\n\n    if (!filtersMatches.has(treeId)) {\n      if (isVisible === false) return;\n      return setVisibility(false);\n    }\n\n    if (isVisible === true) return;\n    return setVisibility(true);\n  }, [filtersMatches]);\n\n  return null;\n}\n\nexport default FilterListener;\n","import React, { useState, useCallback } from 'react';\nimport {\n  Skill,\n  SavedDataType,\n  ContextStorage,\n  NodeSelectEvent,\n} from '../models';\nimport SkillTreeSegment from './SkillTreeSegment';\nimport HSeparator from './ui/HSeparator';\nimport VisibilityContainer from './VisibilityContainer';\nimport CalculateNodeCount from './CalculateNodeCount';\nimport { SkillTreeProvider } from '../context/SkillContext';\nimport styled from 'styled-components';\nimport SkillTreeHeader from './SkillTreeHeader';\nimport AddToFilterIndex from './filter/AddToFilterIndex';\nimport FilterListener from './filter/FilterListener';\nimport useMobile from '../hooks/useMobile';\n\nexport interface Props {\n  treeId: string;\n  data: Skill[];\n  title: React.ReactNode | string;\n  description?: string;\n  collapsible?: boolean;\n  closedByDefault?: boolean;\n  savedData?: SavedDataType;\n  disabled?: boolean;\n  handleSave?: (\n    storage: ContextStorage,\n    treeId: string,\n    skills: SavedDataType\n  ) => void;\n  handleNodeSelect?: (e: NodeSelectEvent) => void;\n}\n\ninterface CollapsibleContainerProps {\n  isCollapsible: boolean;\n}\n\nfunction SkillTree({\n  data,\n  title,\n  description,\n  closedByDefault,\n  treeId,\n  savedData,\n  handleSave,\n  handleNodeSelect,\n  collapsible = false,\n  disabled = false,\n}: Props) {\n  const isMobile = useMobile();\n  const initialVisibility = closedByDefault || disabled ? false : true;\n  const [isVisible, setVisibility] = useState(initialVisibility);\n\n  const memoizedToggleVisibility = useCallback(\n    function toggleVisibility() {\n      if (disabled) {\n        return setVisibility(false);\n      }\n\n      if (!collapsible) {\n        return setVisibility(true);\n      }\n\n      return setVisibility(!isVisible);\n    },\n    [isVisible, disabled, collapsible]\n  );\n\n  return (\n    <React.Fragment>\n      <AddToFilterIndex treeId={treeId} skills={data} />\n      <FilterListener\n        disabled={disabled}\n        isVisible={isVisible}\n        setVisibility={setVisibility}\n        treeId={treeId}\n      />\n      <SkillTreeProvider\n        treeId={treeId}\n        savedData={savedData}\n        handleSave={handleSave}\n        sendNodeSelectDataToClient={handleNodeSelect}\n      >\n        <CalculateNodeCount data={data} />\n        <SkillTreeContainer>\n          <SkillTreeHeader\n            isVisible={isVisible}\n            disabled={disabled}\n            handleClick={memoizedToggleVisibility}\n            collapsible={collapsible}\n            id={treeId}\n            description={description}\n            title={title}\n          />\n          <VisibilityContainer isVisible={isVisible}>\n            <StyledSkillTree isCollapsible={collapsible}>\n              {data.map((skill, i) => {\n                const displaySeparator = data.length - 1 !== i && isMobile;\n\n                return (\n                  <React.Fragment key={skill.id}>\n                    <SkillTreeSegment\n                      shouldBeUnlocked\n                      skill={skill}\n                      hasParent={false}\n                      parentPosition={0}\n                      parentHasMultipleChildren={false}\n                    />\n                    <HSeparator display={displaySeparator} />\n                  </React.Fragment>\n                );\n              })}\n            </StyledSkillTree>\n          </VisibilityContainer>\n        </SkillTreeContainer>\n      </SkillTreeProvider>\n    </React.Fragment>\n  );\n}\n\nexport default SkillTree;\n\nconst SkillTreeContainer = styled.div`\n  background-color: ${({ theme }) => theme.backgroundColor};\n  margin: 0 8px 48px;\n  min-width: 304px;\n\n  @media (min-width: 900px) {\n    margin: 0 8px 16px;\n    padding: 16px;\n  }\n`;\n\nconst StyledSkillTree = styled.div<CollapsibleContainerProps>`\n  background: ${({ theme }) => theme.treeBackgroundColor};\n  border: ${({ theme }) => theme.border};\n  border-top: ${({ isCollapsible }) => (isCollapsible ? '0' : 'auto')};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media (min-width: 1200px) {\n    flex-direction: row;\n  }\n`;\n","import React from 'react';\nimport { AppProvider } from '../context/AppContext';\nimport { FilterProvider } from '../context/FilterContext';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nfunction SkillProvider({ children }: Props) {\n  return (\n    <AppProvider>\n      <FilterProvider>{children}</FilterProvider>\n    </AppProvider>\n  );\n}\n\nexport default SkillProvider;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}